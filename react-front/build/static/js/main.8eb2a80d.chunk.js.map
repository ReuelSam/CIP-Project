{"version":3,"sources":["post/apiPost.js","images/event.jpg","auth/index.js","post/Posts.js","core/Home.js","core/Menu.js","core/MenuMobile.js","user/Signup.js","user/SocialLogin.js","user/apiUser.js","user/Signin.js","images/avatar.png","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","auth/PrivateRoute.js","user/FindPeople.js","post/NewPost.js","post/Comment.js","post/SinglePost.js","post/EditPost.js","post/AttendPost.js","user/ForgotPassword.js","user/ResetPassword.js","user/UnknownProfile.js","MainRouter.js","App.js","index.js"],"names":["singlePost","postId","fetch","process","method","then","response","json","catch","err","console","log","remove","token","headers","Accept","Authorization","error","like","userId","body","JSON","stringify","unlike","notInterested","undoNotInterested","comment","uncomment","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","tagNames","options","Posts","init","state","loadAll","option","setState","loading","message","loadPosts","page","list","user","_id","data","posts","loadMore","number","loadLess","generateTags","tags","map","value","index","className","tagsList","checkLoadAll","event","target","checked","setOption","renderFilters","type","onChange","id","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","style","width","onClick","renderPosts","post","i","posterId","postedBy","posterName","name","src","Date","getTime","alt","title","onError","DefaultPost","height","substring","to","created","toDateString","this","length","Component","Home","isActive","history","path","location","pathname","color","withRouter","padding","borderRadius","cursor","push","href","data-target","aria-controls","aria-label","fontSize","Signup","handleChange","open","tagChecked","flag","indexOf","arr","clickSubmit","preventDefault","password","repassword","signup","createCheckbox","label","createCheckboxes","tagsForm","signupForm","display","SocialLogin","responseGoogle","profileObj","socialLogin","googleId","imageUrl","status","props","getTags","redirectToReferrer","clientId","buttonText","onSuccess","onFailure","read","follow","followId","unfollow","unfollowId","updateTags","userTags","attend","unattend","Signin","signin","redirectToReferer","showTags","submitTags","signinForm","margin","DeleteUser","redirect","deleteAccount","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","person","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","redirectToSignin","load","listByUser","match","params","photoUrl","about","Users","renderUsers","users","EditProfile","redirectToProfile","files","undefined","defaultImage","imagePath","URL","createObjectURL","fileSize","size","userData","set","isValid","test","update","auth","updateUser","accept","FormData","role","PrivateRoute","component","rest","render","from","FindPeople","clickFollow","toFollow","splice","followMessage","findPeople","NewPost","postData","tagCheck","create","photo","newPostForm","venue","dateAndTime","Comment","text","addComment","e","newComment","updateComments","comments","deleteComment","reverse","onSubmit","placeholder","posterProfile","SinglePost","redirectToHome","likes","checkLike","componentDidMount","change","likeToggle","callApi2","notInterestedToggle","deletePost","renderPost","objectFit","EditPost","editPostForm","AttendPost","getAttend","ForgotPassword","autoFocus","ResetPassword","resetPassword","resetInfo","newPassword","rePassword","resetPasswordLink","resetPasswordToken","UnknownProfile","MainRouter","isDesktopOrLaptop","useMediaQuery","query","MenuMobile","exact","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"+MAoGaA,EAAa,SAAAC,GACtB,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,QAEPC,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAkBrBG,EAAS,SAACX,EAAQY,GAC3B,OAAOX,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,SACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAoBnBC,EAAO,SAACC,EAAQN,EAAOZ,GAChC,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,cAA+C,CACvDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnBM,EAAS,SAACJ,EAAQN,EAAOZ,GAClC,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,gBAAiD,CACzDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnBO,EAAgB,SAACL,EAAQN,EAAOZ,GACzC,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,sBAAuD,CAC/DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnBQ,EAAoB,SAACN,EAAQN,EAAOZ,GAC7C,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,2BAA4D,CACpEC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAInBS,EAAU,SAACP,EAAQN,EAAOZ,EAAQyB,GAC3C,OAAOxB,MAAM,GAAD,OAAIC,wBAAJ,iBAAkD,CAC1DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,SAAQyB,cAEzCrB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnBU,EAAY,SAACR,EAAQN,EAAOZ,EAAQyB,GAC7C,OAAOxB,MAAM,GAAD,OAAIC,wBAAJ,mBAAoD,CAC5DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,SAAQyB,cAEzCrB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OC3PjB,MAA0B,kCCoC5BW,EAAe,SAACC,EAAKC,GACT,qBAAXC,SAENC,aAAaC,QAAQ,MAAOZ,KAAKC,UAAUO,IAC3CC,MAKKI,EAAU,SAACJ,GAWpB,MARsB,qBAAXC,QAEPC,aAAaG,WAAW,OAG5BL,IAGO5B,MAAM,GAAD,OAAIC,wBAAJ,YAA6C,CACrDC,OAAQ,QAEXC,MAAK,SAAAC,GACH,OAAOA,EAASC,UAElBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAIjB2B,EAAkB,WAC3B,MAAqB,oBAAVL,WAKPC,aAAaK,QAAQ,QAEdhB,KAAKiB,MAAMN,aAAaK,QAAQ,UASlCE,EAAiB,SAAAC,GAE1B,OADA9B,QAAQC,IAAI,UAAW6B,GAChBtC,MAAM,GAAD,OAAIC,wBAAJ,qBAAsD,CAC9DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU,CAAEkB,YAEtBnC,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,6BAA8BL,GACnCA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,OC3F5BgC,EAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WACvGC,EAAU,CAAC,SAAU,SAAU,WA4MrBC,E,kDAzMZ,aAAe,IAAD,8BACV,gBAYJC,KAAO,WACHlC,QAAQC,IAAI,EAAKkC,MAAMC,QAAS,EAAKD,MAAME,OAAQL,EAAQ,EAAKG,MAAME,SAEtE,EAAKC,SAAS,CAACC,SAAS,EAAMC,QAAQ,GAAD,OAAKR,EAAQ,EAAKG,MAAME,QAAxB,wBAA+C,EAAKF,MAAMC,QAAU,YAAc,eACvH,EAAKK,UAAU,EAAKN,MAAMO,OAjBhB,EAoBdD,UAAY,SAAAC,IHZI,SAACN,EAASC,EAAQ5B,EAAQiC,GAE1C,GADA1C,QAAQC,IAAIQ,GACP2B,EACL,CACI,GAAe,IAAXC,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,wBAAiDiD,GAAQ,CACjEhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MAEhC,GAAe,IAAX8B,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,+BAAwDiD,GAAQ,CACxEhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MAEhC,GAAe,IAAX8B,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,gCAAyDiD,GAAQ,CACzEhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,UAIpC,CACI,GAAe,IAAX8B,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,kBAA2CgB,EAA3C,kBAA2DiC,GAAQ,CAC3EhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MAEhC,GAAe,IAAX8B,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,yBAAkDgB,EAAlD,kBAAkEiC,GAAQ,CAClFhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MAEhC,GAAe,IAAX8B,EAEA,OAAO7C,MAAM,GAAD,OAAIC,wBAAJ,0BAAmDgB,EAAnD,kBAAmEiC,GAAQ,CACnFhD,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,QGhEhCoC,CAAK,EAAKR,MAAMC,QAAS,EAAKD,MAAME,OAAQX,IAAkBkB,KAAKC,IAAKH,GAAM/C,MAAK,SAAAmD,GAC3EA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SAAS,CAACS,MAAOD,EAAMP,SAAS,QA5BnC,EAiCdS,SAAW,SAAAC,GACP,EAAKX,SAAS,CAAEI,KAAM,EAAKP,MAAMO,KAAOO,EAAQV,SAAS,IACzD,EAAKE,UAAU,EAAKN,MAAMO,KAAOO,IAnCvB,EAsCdC,SAAW,SAAAD,GACP,EAAKX,SAAS,CAAEI,KAAM,EAAKP,MAAMO,KAAOO,EAAQV,SAAS,IACzD,EAAKE,UAAU,EAAKN,MAAMO,KAAOO,IAxCvB,EA+CdE,aAAe,SAACC,GAAD,OACXA,EAAKC,KAAI,SAACC,EAAOC,GAET,QAAID,GAAS,KAGL,wBAAOE,UAAU,yCAAjB,cAAwEzB,EAASwB,GAAjF,MAA+DA,OArDrE,EA6DdE,SAAW,SAACL,GAAD,OACP,sBAAKI,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,wBACA,uBACA,qBAAKA,UAAU,yBAAf,SACK,EAAKL,aAAaC,SAlEjB,EAyEdM,aAAe,kBAAM,SAAAC,GACjB,EAAKrB,SAAS,CAACF,QAASuB,EAAMC,OAAOC,YA1E3B,EA6EdC,UAAY,SAACR,GACT,EAAKhB,SAAS,CAACD,OAAQiB,KA9Eb,EAiFdS,cAAgB,WACZ,OACI,gCACI,oBAAIP,UAAU,YAAd,qBAEA,sBAAKA,UAAU,YAAf,UAEI,wBAAOA,UAAU,uBAAjB,UACI,uBAAOQ,KAAK,WAAWR,UAAU,mBAAmBS,SAAU,EAAKP,eAAgBG,QAAS,EAAK1B,MAAMC,UAD3G,gBAKA,sBAAKoB,UAAU,WAAf,UACI,wBAAQA,UAAU,oCAAoCQ,KAAK,SAASE,GAAG,qBAAqBC,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAAtJ,SACKrC,EAAQ,EAAKG,MAAME,UAExB,sBAAKmB,UAAU,gBAAgBc,kBAAgB,qBAA/C,UAEQ,wBAAQd,UAAU,MAAMe,MAAO,CAACC,MAAO,SAAUC,QAAS,kBAAM,EAAKX,UAAU,IAA/E,oBAEA,wBAAQN,UAAU,MAAMe,MAAO,CAACC,MAAO,SAAUC,QAAS,kBAAM,EAAKX,UAAU,IAA/E,oBAEA,wBAAQN,UAAU,MAAMe,MAAO,CAACC,MAAO,SAAUC,QAAS,kBAAM,EAAKX,UAAU,IAA/E,2BAIZ,wBAAQW,QAAS,EAAKvC,KAAMsB,UAAU,kCAAtC,2BA3GF,EAoHdkB,YAAc,SAAC3B,GACX,OACI,qBAAKS,UAAU,MAAf,SACIT,EAAMM,KAAI,SAACsB,EAAOC,GACd,IAAMC,EAAWF,EAAKG,SAAL,gBAAyBH,EAAKG,SAASjC,KAAQ,GAC1DkC,EAAaJ,EAAKG,SAAWH,EAAKG,SAASE,KAAO,WAExD,OACI,qBAAKxB,UAAU,yBAAf,SAEI,sBAAKA,UAAU,YAAf,UACI,qBACIyB,IAAG,UAAKxF,wBAAL,uBAAiDkF,EAAK9B,IAAtD,aAA6D,IAAIqC,MAAOC,WAC3EC,IAAKT,EAAKU,MACVC,QAAS,SAAAV,GAAC,OAAIA,EAAEhB,OAAOqB,IAAT,UAAkBM,IAChC/B,UAAU,sBACVe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,UAInC,oBAAIhB,UAAU,aAAd,SAA4BmB,EAAKU,QACjC,mBAAG7B,UAAU,YAAb,SAA0BmB,EAAKjE,KAAK+E,UAAU,EAAG,OACjD,uBACA,oBAAGjC,UAAU,mBAAb,wBACe,eAAC,IAAD,CAAMkC,GAAE,UAAKb,GAAb,UAA0BE,EAAY,OADrD,MAEQ,IAAIG,KAAKP,EAAKgB,SAASC,kBAE9B,EAAKnC,SAASkB,EAAKvB,MACpB,cAAC,IAAD,CAAMsC,GAAE,gBAAWf,EAAK9B,KAAOW,UAAU,oCAAzC,wBApBqCoB,SA1H7D,EAAKzC,MAAQ,CACTY,MAAO,CAAC,MACRR,SAAS,EACTH,SAAS,EACTC,OAAQ,EACRG,QAAS,+BACTE,KAAM,GARA,E,qDA2Cd,WACImD,KAAKpD,UAAUoD,KAAK1D,MAAMO,Q,oBA+G9B,WAAU,IAAD,SAC0BmD,KAAK1D,MAA7BY,EADF,EACEA,MAAOR,EADT,EACSA,QAASG,EADlB,EACkBA,KACvB,OACI,sBAAKc,UAAU,YAAf,UAEKqC,KAAK9B,gBAEN,oBAAIP,UAAU,YAAd,SAA2BqC,KAAK1D,MAAMK,UAEtC,oBAAIgB,UAAU,YAAd,SACMT,EAAM+C,OAA2B,GAAlB,kBAKnBvD,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAsEqC,KAAKnB,YAAY3B,GAIlGL,EAAO,EACJ,yBACIc,UAAU,4CACViB,QAAS,kBAAM,EAAKvB,SAAS,IAFjC,uBAIe2C,KAAK1D,MAAMO,KAAO,EAJjC,OAOA,GAGHK,EAAM+C,OACH,yBACItC,UAAU,uCACViB,QAAS,kBAAM,EAAKzB,SAAS,IAFjC,mBAIWN,EAAO,EAJlB,OAOA,U,GAlMAqD,aCYLC,EAjBF,kBACT,gCACI,sBAAKxC,UAAU,YAAf,UACI,2CACA,mBAAGA,UAAU,OAAb,kCAGH9B,KACO,qBAAK8B,UAAU,YAAf,SACI,cAAC,EAAD,UCTdyC,EAAW,SAACC,EAASC,GACvB,OAAID,EAAQE,SAASC,WAAaF,EAEvB,CAACG,MAAO,WAIR,CAACA,MAAO,YA8ERC,eA1EF,SAAC,GAAD,IAAEL,EAAF,EAAEA,QAAF,OACT,8BACI,qBAAI1C,UAAU,0BAAd,UACI,oBAAIA,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAG,IAAInB,MAAO0B,EAASC,EAAS,KAA3D,SACI,mBAAG1C,UAAU,8BAA8Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,aAIzF,oBAAIjD,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAG,SAASnB,MAAO0B,EAASC,EAAS,UAAhE,SACI,mBAAG1C,UAAU,+BAA+Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,cAIxF/E,KACE,qCACI,oBAAI8B,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAG,UAAUnB,MAAO0B,EAASC,EAAS,WAAjE,SACI,mBAAG1C,UAAU,iCAAiCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,aAI5F,oBAAIjD,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAG,UAAUnB,MAAO0B,EAASC,EAAS,WAAjE,SACI,mBAAG1C,UAAU,qCAAqCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,gBAMvG/E,KACG,qCAEI,oBAAI8B,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAE,2BAAsBhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,2BAA8BxE,IAAkBkB,KAAKC,MAAtJ,SACI,mBAAGW,UAAU,mCAAmCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,aAK9F,oBAAIjD,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAE,yBAAoBhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,yBAA4BxE,IAAkBkB,KAAKC,MAAlJ,SACI,mBAAGW,UAAU,qCAAqCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,aAKhG,oBAAIjD,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,WAAWkC,GAAE,gBAAWhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,gBAAmBxE,IAAkBkB,KAAKC,MAAhI,SACA,mBAAGW,UAAU,8BAA8Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,aAKrF,oBAAIjD,UAAU,WAAd,SACI,sBAAMA,UAAU,WAAWe,OAAQ0B,EAASC,EAAS,WAAY,CAACQ,OAAQ,UAAWJ,MAAO,SAAU7B,QAAS,kBAAMjD,GAAQ,kBAAM0E,EAAQS,KAAK,SAAhJ,SACI,mBAAGnD,UAAU,mCAAmCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,wBCxE5GR,EAAW,SAACC,EAASC,GACvB,OAAID,EAAQE,SAASC,WAAaF,EAEvB,CAACG,MAAO,WAIR,CAACA,MAAO,YA0HRC,eAtHO,SAAC,GAAD,IAAEL,EAAF,EAAEA,QAAF,OAElB,sBAAK1C,UAAU,sDAAf,UAEI,mBAAGA,UAAU,uBAAuBoD,KAAK,IAAzC,oBAEA,wBAAQpD,UAAU,iCAAiCQ,KAAK,SAASG,cAAY,WAAW0C,cAAY,2BACpGC,gBAAc,0BAA0BzC,gBAAc,QAAQ0C,aAAW,oBADzE,SAC6F,sBAAMvD,UAAU,iBAAhB,SAAiC,mBAC1HA,UAAU,oCAEd,qBAAKA,UAAU,2BAA2BU,GAAG,0BAA7C,SAEI,qBAAIV,UAAU,qBAAd,UAGI,oBAAIA,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAG,IAAInB,MAAO0B,EAASC,EAAS,KAAnD,SACI,mBAAG1C,UAAU,8BAA8Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAjF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,gBAOZ,oBAAIxD,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAG,SAASnB,MAAO0B,EAASC,EAAS,UAAxD,SACI,mBAAG1C,UAAU,+BAA+Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAlF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,kBAOVtF,KACE,qCACI,oBAAI8B,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAG,UAAUnB,MAAO0B,EAASC,EAAS,WAAzD,SACI,mBAAG1C,UAAU,iCAAiCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAApF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,mBAOZ,oBAAIxD,UAAU,WAAd,SACI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAG,UAAUnB,MAAO0B,EAASC,EAAS,WAAzD,SACI,mBAAG1C,UAAU,qCAAqCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAxF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,sBASnBtF,KACG,qCAEI,oBAAI8B,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAE,2BAAsBhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,2BAA8BxE,IAAkBkB,KAAKC,MAA9I,SACI,mBAAGW,UAAU,mCAAmCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAtF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,4BAQZ,oBAAIxD,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAE,yBAAoBhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,yBAA4BxE,IAAkBkB,KAAKC,MAA1I,SACI,mBAAGW,UAAU,qCAAqCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAxF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,wBAQZ,oBAAIxD,UAAU,WAAd,SAEI,cAAC,IAAD,CAAMA,UAAU,GAAGkC,GAAE,gBAAWhE,IAAkBkB,KAAKC,KAAO0B,MAAQ0B,EAASC,EAAD,gBAAmBxE,IAAkBkB,KAAKC,MAAxH,SACA,mBAAGW,UAAU,8BAA8Be,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAjF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,mBAQR,oBAAIxD,UAAU,WAAd,SACI,sBAAMA,UAAU,GAAGe,OAAQ0B,EAASC,EAAS,WAAY,CAACQ,OAAQ,UAAWJ,MAAO,SAAU7B,QAAS,kBAAMjD,GAAQ,kBAAM0E,EAAQS,KAAK,SAAxI,SACI,mBAAGnD,UAAU,mCAAmCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,OAAtF,SACI,wBAAOjD,UAAU,4BAA4Be,MAAO,CAACyC,SAAU,UAA/D,UACK,MADL,kC,OChH9BjF,EAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WAExFkF,E,kDACjB,aACC,IAAD,8BACI,gBAYJC,aAAe,SAAClC,GAAD,OAAU,SAAArB,GACrB,EAAKrB,SAAS,CAAC/B,MAAO,KACtB,EAAK+B,SAAS,CAAC6E,MAAM,IACrB,EAAK7E,SAAL,eAAiB0C,EAAOrB,EAAMC,OAAON,UAhBzC,EAmBA8D,WAAa,SAACpC,GAAD,OAAU,SAAArB,GACnB,EAAKrB,SAAS,CAAC6E,MAAM,IAErBnH,QAAQC,IAAI+E,EAAOrB,EAAMC,OAAOC,SAChC,IAAIwD,EAAO1D,EAAMC,OAAOC,QACpBN,EAAQxB,EAASuF,QAAQtC,GAEzBuC,EAAM,EAAKpF,MAAMiB,KACrBmE,EAAIhE,GAAS8D,EAAO,IAAO,EAC3B,EAAK/E,SAAS,CAAEc,KAAMmE,MA5B1B,EAgCAC,YAAc,SAAA7D,GAEVA,EAAM8D,iBAFa,MAGyB,EAAKtF,MAA1C6C,EAHY,EAGZA,KAAMlD,EAHM,EAGNA,MAAO4F,EAHD,EAGCA,SAAUC,EAHX,EAGWA,WAC1BJ,EAAM,EAAKpF,MAAMiB,MACrBmE,EAAIlE,KAAI,SAACC,EAAOC,GAKZ,OAJc,IAAVD,IAEAiE,EAAIhE,GAAS,KAEV,QAEPmE,IAAaC,GLpDH,SAAC/E,GAEnB,OAAOpD,MAAM,GAAD,OAAIC,wBAAJ,WAA4C,CACpDC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAUgC,KAGxBjD,MAAK,SAAAC,GACF,OAAOA,EAASC,UAGnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MKiDtB6H,CAPa,CACT5C,KAAMA,EACNlD,MAAOA,EACP4F,SAAUA,EACVtE,KAAMmE,IAKT5H,MAAK,SAAAmD,GACF9C,QAAQC,IAAI6C,GACRA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,QAI3B,EAAK+B,SAAS,CACV/B,MAAO,GACPyE,KAAM,GACNlD,MAAO,GACP4F,SAAU,GACVC,WAAY,GACZvE,KAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACrB+D,MAAM,OA3Bd,EAAK7E,SAAS,CAAC/B,MAAO,oCA9C9B,EAiFAsH,eAAiB,SAAAC,GAAK,OAClB,wBAAOtE,UAAU,kBAAjB,UACI,uBAAOQ,KAAK,WAAWR,UAAU,mBAAmBS,SAAU,EAAKmD,WAAWU,GAAQjE,UAAY,EAAK1B,MAAMiB,KAAKrB,EAASuF,QAAQQ,MAC9HA,IAF+B/F,EAASuF,QAAQQ,KAlF7D,EAwFAC,iBAAmB,kBACfhG,EAASsB,IAAI,EAAKwE,iBAzFtB,EA4FAG,SAAW,kBACP,sBAAKxE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,6BACA,uBACA,qBAAKA,UAAU,yBAAf,SAEK,EAAKuE,yBAlGlB,EAyGAE,WAAa,SAACjD,EAAMlD,EAAO4F,EAAUC,GAAxB,OACT,iCACI,sBAAKnE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAOS,SAAU,EAAKiD,aAAa,QAASlD,KAAK,OAAOR,UAAU,eAAeF,MAAO0B,OAG5F,sBAAKxB,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,QAAQR,UAAU,eAAeF,MAAOxB,OAG9F,sBAAK0B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOS,SAAU,EAAKiD,aAAa,YAAalD,KAAK,WAAWR,UAAU,eAAeF,MAAOoE,OAGpG,sBAAKlE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,+BACA,uBAAOS,SAAU,EAAKiD,aAAa,cAAelD,KAAK,WAAWR,UAAU,eAAeF,MAAOqE,OAGrG,EAAKK,WAEN,wBAAQvD,QAAS,EAAK+C,YAAahE,UAAU,6BAA7C,wBA/HJ,EAAKrB,MAAQ,CACT6C,KAAM,GACNlD,MAAO,GACP4F,SAAU,GACVC,WAAY,GACZvE,KAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACrB7C,MAAO,IARf,E,0CAsIA,WAAU,IAAD,EACoDsF,KAAK1D,MAAvD6C,EADF,EACEA,KAAMlD,EADR,EACQA,MAAO4F,EADf,EACeA,SAAUC,EADzB,EACyBA,WAAYpH,EADrC,EACqCA,MAAO4G,EAD5C,EAC4CA,KACjD,OACI,sBAAK3D,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,oBAEA,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGL,sBAAKiD,UAAU,mBAAmBe,MAAO,CAAC2D,QAASf,EAAO,GAAK,QAA/D,0EACiE,cAAC,IAAD,CAAMzB,GAAG,UAAT,yBAGhEG,KAAKoC,WAAWjD,EAAMlD,EAAO4F,EAAUC,U,GAtJpB5B,a,iBCyDrBoC,E,kDAzDX,aAAe,IAAD,8BACV,gBAMJC,eAAiB,SAAAxI,GACbI,QAAQC,IAAIL,GADa,MAEmBA,EAASyI,YNsGlC,SAAAzF,GAEvB,OAAOpD,MAAM,GAAD,OAAIC,wBAAJ,iBAAkD,CAC1DC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAUgC,KAGxBjD,MAAK,SAAAC,GACF,OAAOA,EAASC,UAGnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OM7GtBuI,CAPa,CACTZ,SAJqB,EAEjBa,SAGJvD,KALqB,EAEPA,KAIdlD,MANqB,EAEDA,MAKpB0G,SAPqB,EAEMA,WAQb7I,MAAK,SAAAmD,GACnB9C,QAAQC,IAAI,gBAAiB6C,GACzBA,EAAKvC,MACLP,QAAQC,IAAI,oCAEZD,QAAQC,IAAI,iCAAkC6C,GAE1B,IAAhBA,EAAK2F,OAEL,EAAKC,MAAMC,SAAQ,EAAM7F,GAEJ,IAAhBA,EAAK2F,QAEVvH,EAAa4B,GAAM,WACf,EAAKR,SAAS,CAAEsG,oBAAoB,YA7BpD,EAAKzG,MAAQ,CACTyG,oBAAoB,GAHd,E,0CAuCd,WAGI,OAD+B/C,KAAK1D,MAA5ByG,mBAEG,cAAC,IAAD,CAAUlD,GAAG,MAIpB,cAAC,IAAD,CACImD,SAAS,2EACTC,WAAW,oBACXC,UAAWlD,KAAKuC,eAChBY,UAAWnD,KAAKuC,qB,GApDNrC,aCLbkD,EAAO,SAACxI,EAAQN,GACzB,OAAOX,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CgB,GAAU,CAC5Df,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAuBnBL,EAAS,SAACO,EAAQN,GAC3B,OAAOX,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CgB,GAAU,CAC5Df,OAAQ,SACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OA4BnB2I,EAAS,SAACzI,EAAQN,EAAOgJ,GAElC,OAAO3J,MAAM,GAAD,OAAIC,wBAAJ,gBAAiD,CACzDC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAAEH,SAAQ0I,eAElCxJ,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnB6I,EAAW,SAAC3I,EAAQN,EAAOkJ,GAEpC,OAAO7J,MAAM,GAAD,OAAIC,wBAAJ,kBAAmD,CAC3DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAAEH,SAAQ4I,iBAElC1J,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAqBnB+I,EAAa,SAAC7I,EAAQN,EAAOoJ,GAEtC,OAAO/J,MAAM,GAAD,OAAIC,wBAAJ,qBAAsD,CAC9DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQ8I,eAEjC5J,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAInBiJ,EAAS,SAAC/I,EAAQN,EAAOZ,GAClC,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,qBAAsD,CAC9DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OAGnBkJ,EAAW,SAAChJ,EAAQN,EAAOZ,GACpC,OAAOC,MAAM,GAAD,OAAIC,wBAAJ,uBAAwD,CAChEC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,IAE7BO,KAAMC,KAAKC,UAAU,CAACH,SAAQlB,aAEjCI,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OC/K1BwB,EAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WAGxF2H,E,kDACjB,aACC,IAAD,8BACI,gBAcJxC,aAAe,SAAClC,GAAD,OAAU,SAAArB,GACrB,EAAKrB,SAAS,CAAC/B,MAAO,KACtB,EAAK+B,SAAL,eAAiB0C,EAAOrB,EAAMC,OAAON,UAjBzC,EAoBAkE,YAAc,SAAA7D,GAEVA,EAAM8D,iBACN,EAAKnF,SAAS,CAACC,SAAS,IAHL,MAIO,EAAKJ,ORlBjB,SAACS,GAEnB,OAAOpD,MAAM,GAAD,OAAIC,wBAAJ,WAA4C,CACpDC,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAUgC,KAGxBjD,MAAK,SAAAC,GACF,OAAOA,EAASC,UAGnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OQStB4J,CALa,CACT7H,MANe,EAIZA,MAGH4F,SAPe,EAILA,WAQb/H,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,MAAOgC,SAAS,IAMvCrB,EAAa4B,GAAM,WACf,EAAKR,SAAS,CAACsH,mBAAmB,WA1CtD,EAmDAC,SAAW,SAACxC,EAAMvE,GACd,EAAKR,SAAS,CAAEuH,SAAUxC,EAAMvE,KAAMA,KApD1C,EAuDA+E,eAAiB,SAAAC,GAAK,OAClB,wBAAOtE,UAAU,kBAAjB,UACI,uBAAOQ,KAAK,WAAWR,UAAU,mBAAmBS,SAAU,EAAKmD,WAAWU,GAAQjE,UAAY,EAAK1B,MAAMiB,KAAKrB,EAASuF,QAAQQ,MAC9HA,IAF+B/F,EAASuF,QAAQQ,KAxD7D,EA8DAC,iBAAmB,kBACfhG,EAASsB,IAAI,EAAKwE,iBA/DtB,EAkEAG,SAAW,kBACP,sBAAKxE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mDACA,uBACA,qBAAKA,UAAU,yBAAf,SAEK,EAAKuE,qBAIV,wBAAQtD,QAAS,EAAKqF,WAAYtG,UAAU,6BAA5C,6BA5ER,EAiFAsG,WAAa,WAAO,IACThH,EAAQ,EAAKX,MAAbW,KACD3C,EAAQ2C,EAAK3C,MACbM,EAASqC,EAAKF,KAAKC,IACrB0E,EAAM,EAAKpF,MAAMiB,KACrBmE,EAAIlE,KAAI,SAACC,EAAOC,GAKZ,OAJc,IAAVD,IAEAiE,EAAIhE,GAAS,KAEV,QAEX+F,EAAW7I,EAAQN,EAAOoH,GAAK5H,MAAK,SAAAmD,GAC5BA,EAAKvC,OAELP,QAAQC,IAAI6C,EAAKvC,UAOzBW,EAAa4B,GAAM,WACf,EAAKR,SAAS,CAACsH,mBAAmB,QAxG1C,EA8GAxC,WAAa,SAACpC,GAAD,OAAU,SAAArB,GACnB,EAAKrB,SAAS,CAAC6E,MAAM,IAErBnH,QAAQC,IAAI+E,EAAOrB,EAAMC,OAAOC,SAChC,IAAIwD,EAAO1D,EAAMC,OAAOC,QACpBN,EAAQxB,EAASuF,QAAQtC,GAEzBuC,EAAM,EAAKpF,MAAMiB,KACrBmE,EAAIhE,GAAS8D,EAAO,IAAO,EAC3B,EAAK/E,SAAS,CAAEc,KAAMmE,MAvH1B,EA4HAwC,WAAa,SAACjI,EAAO4F,GAAR,OAET,iCAEI,sBAAKlE,UAAU,aAAae,MAAO,CAACC,MAAO,MAAOwF,OAAO,QAAzD,UACI,uBAAOxG,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,QAAQR,UAAU,eAAeF,MAAOxB,OAG9F,sBAAK0B,UAAU,aAAae,MAAO,CAACC,MAAO,MAAOwF,OAAO,QAAzD,UACI,uBAAOxG,UAAU,aAAjB,sBACA,uBAAOS,SAAU,EAAKiD,aAAa,YAAalD,KAAK,WAAWR,UAAU,eAAeF,MAAOoE,OAGpG,uBACA,iCACI,wBAAQjD,QAAS,EAAK+C,YAAahE,UAAU,sCAA7C,0BA1IR,EAAKrB,MAAQ,CACTL,MAAO,GACP4F,SAAU,GACVnH,MAAO,GACPqJ,mBAAmB,EACnBrH,SAAS,EACTsH,UAAU,EACVzG,KAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAT7B,E,0CAmJA,WAAU,IAAD,EACwDyC,KAAK1D,MAA3DL,EADF,EACEA,MAAO4F,EADT,EACSA,SAAUnH,EADnB,EACmBA,MAAOqJ,EAD1B,EAC0BA,kBAAmBrH,EAD7C,EAC6CA,QAClD,OAAIqH,EACO,cAAC,IAAD,CAAUlE,GAAG,MAGpB,sBAAKlC,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,qBAEA,uBACA,uBAEA,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGHgC,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAoE,IAE9EqC,KAAK1D,MAAM0H,UAAYhE,KAAKkE,WAAWjI,EAAO4F,IAE9C7B,KAAK1D,MAAM0H,UACT,qCACI,iCACA,4BACI,eAAC,IAAD,CAAMnE,GAAG,mBAAmBlC,UAAU,qCAAtC,UAA4E,IAA5E,yBAIY,mCACZ,uBACA,oBAAIA,UAAU,aAAd,kBACA,uBACA,cAAC,EAAD,CAAamF,QAAS9C,KAAKgE,iBAMrChE,KAAK1D,MAAM0H,UAAYhE,KAAKmC,kB,GA3LVjC,aCVrB,MAA0B,mCCqD1BkE,E,4MA9CX9H,MAAQ,CACJ+H,UAAU,G,EAGdC,cAAgB,WACZnK,QAAQC,IAAI,kBACZ,IAAME,EAAQuB,IAAkBvB,MAC1BM,EAAS,EAAKiI,MAAMjI,OAC1BP,EAAOO,EAAON,GACbR,MAAK,SAAAmD,GACEA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,QAKjBiB,GAAQ,kBAAMxB,QAAQC,IAAI,sBAE1B,EAAKqC,SAAS,CAAE4H,UAAU,S,EAKtCE,gBAAkB,WACD/I,OAAOgJ,QAAQ,uGAGxB,EAAKF,iB,4CAIb,WACI,OAAGtE,KAAK1D,MAAM+H,SAEH,cAAC,IAAD,CAAUxE,GAAG,MAIhB,wBAAQjB,QAASoB,KAAKuE,gBAAiB5G,UAAU,4BAAjD,gC,GAzCSuC,aCiCVuE,E,4MAjCXC,YAAc,WACV,EAAK7B,MAAM8B,cAActB,I,EAG7BuB,cAAgB,WACZ,EAAK/B,MAAM8B,cAAcpB,I,4CAI7B,WACI,OACI,8BACI,qBAAK5F,UAAU,iBAAf,SAESqC,KAAK6C,MAAMgC,UAQR,wBAAQlH,UAAU,6BAA6BiB,QAASoB,KAAK4E,cAA7D,sBANA,wBAAQjH,UAAU,kCAAkCiB,QAASoB,KAAK0E,YAAlE,4B,GAlBMxE,aCsFnB4E,G,4JApFX,WAAU,IAAD,EACuC9E,KAAK6C,MAA1CgC,EADF,EACEA,UAAWE,EADb,EACaA,UAAW7H,EADxB,EACwBA,MAAOiC,EAD/B,EAC+BA,KACpC,OACI,8BACI,sBAAKxB,UAAU,MAAf,UACI,sBAAKA,UAAU,WAAf,UACI,qBAAIA,UAAU,eAAd,wBAAyCoH,EAAU9E,OAAnD,OACA,uBAEI8E,EAAUvH,KAAI,SAACwH,EAAQjG,GAAT,OACV,8BACI,8BACI,eAAC,IAAD,CAAMc,GAAE,gBAAWmF,EAAOhI,KAA1B,UACI,qBACIW,UAAU,kBACVe,MAAO,CAACiB,OAAQ,OAAQhB,MAAO,OAAQiC,aAAc,OACrDxB,IAAG,UAAKxF,wBAAL,uBAAiDoL,EAAOhI,KAC3DuC,IAAKyF,EAAO7F,KACZM,QAAS,SAAAV,GAAC,OAAKA,EAAEhB,OAAOqB,IAAT,UAAkB6F,MAErC,8BACI,mBAAGtH,UAAU,OAAb,SAAqBqH,EAAO7F,eAXlCJ,SAqBtB,sBAAKpB,UAAU,WAAf,UACI,qBAAIA,UAAU,eAAd,wBAAyCkH,EAAU5E,OAAnD,OACA,uBAEI4E,EAAUrH,KAAI,SAACwH,EAAQjG,GAAT,OACV,8BAEI,8BACI,eAAC,IAAD,CAAMc,GAAE,gBAAWmF,EAAOhI,KAA1B,UACI,qBACIW,UAAU,kBACVe,MAAO,CAACiB,OAAQ,OAAQhB,MAAO,OAAQiC,aAAc,OACrDxB,IAAG,UAAKxF,wBAAL,uBAAiDoL,EAAOhI,KAC3DuC,IAAKyF,EAAO7F,KACZM,QAAS,SAAAV,GAAC,OAAKA,EAAEhB,OAAOqB,IAAT,UAAkB6F,MAErC,8BACI,mBAAGtH,UAAU,OAAb,SAAqBqH,EAAO7F,eAZlCJ,SAsBtB,sBAAKpB,UAAU,WAAf,UACI,qBAAIA,UAAU,eAAd,UAA8BwB,EAA9B,eAAgDjC,EAAM+C,OAAtD,OACI,uBAEI/C,EAAMM,KAAI,SAACsB,EAAMC,GAAP,OACN,8BAEI,8BACI,cAAC,IAAD,CAAMc,GAAE,gBAAWf,EAAK9B,KAAxB,SACI,8BACI,mBAAGW,UAAU,OAAb,SAAqBmB,EAAKU,eALhCT,kB,GAhEpBmB,aCQpBhE,GAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WA2M9FgJ,G,kDAxMX,aACC,IAAD,8BACI,gBAWJC,YAAc,SAAApI,GACV,IAAMzB,EAAMO,IAKZ,OAJckB,EAAKgI,UAAUK,MAAK,SAAAC,GAE9B,OAAOA,EAASrI,MAAQ1B,EAAIyB,KAAKC,QAhBzC,EAsBAsI,kBAAoB,SAAAC,GAKhBA,EAJe1J,IAAkBkB,KAAKC,IACxBnB,IAAkBvB,MAGT,EAAKgC,MAAMS,KAAKC,KAAKlD,MAAK,SAAAmD,GACzCA,EAAKvC,MACL,EAAK+B,SAAS,CAAE/B,MAAOuC,EAAKvC,QAG5B,EAAK+B,SAAS,CAAEM,KAAME,EAAM4H,WAAY,EAAKvI,MAAMuI,gBAhC/D,EAwCAxI,KAAO,SAACzB,GACJ,IAAMN,EAAQuB,IAAkBvB,MAChC8I,EAAKxI,EAAQN,GACZR,MAAK,SAAAmD,GACF,GAAIA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC+I,kBAAkB,QAGrC,CAEI,IAAIX,EAAY,EAAKM,YAAYlI,GACjC,EAAKR,SAAS,CAACM,KAAME,EAAMwI,MAAM,EAAMZ,UAAWA,IAClD,EAAKjI,UAAUK,EAAKD,UArDhC,EA0DAJ,UAAY,SAAChC,IfoCS,SAACA,EAAQN,GAC/B,OAAOX,MAAM,GAAD,OAAIC,wBAAJ,qBAA8CgB,GAAU,CAChEf,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,Oe9CxBgL,CAAW9K,EADGiB,IAAkBvB,OAE/BR,MAAK,SAAAmD,GACEA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SAAS,CAAES,MAAOD,QApEnC,EAsFAK,aAAe,SAACC,GAAD,OACXA,EAAKC,KAAI,SAACC,EAAOC,GAET,QAAID,GAAS,KAGL,wBAAOE,UAAU,wCAAjB,cAAuEzB,GAASwB,GAAhF,MAA8DA,OA5FlF,EAoGAE,SAAW,SAACL,GAAD,OACP,sBAAKI,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,8BACA,uBACA,qBAAKA,UAAU,eAAf,SACK,EAAKL,aAAaC,SAvG3B,EAAKjB,MAAQ,CACTS,KAAM,CAAC8H,UAAW,GAAIE,UAAW,IACjCS,kBAAkB,EAClBC,MAAM,EACNZ,WAAW,EACX3H,MAAO,IAPf,E,qDA0EA,WAEI,IAAMtC,EAASoF,KAAK6C,MAAM8C,MAAMC,OAAOhL,OACvCoF,KAAK3D,KAAKzB,K,uCAGd,SAA0BiI,GAEtB,IAAMjI,EAASiI,EAAM8C,MAAMC,OAAOhL,OAClCoF,KAAK3D,KAAKzB,K,oBA6Bd,WAAS,MAEmCoF,KAAK1D,MAAtCkJ,EAFF,EAEEA,iBAAkBzI,EAFpB,EAEoBA,KAAMG,EAF1B,EAE0BA,MAE/B,GAAIsI,EAEA,OAAO,cAAC,IAAD,CAAU3F,GAAG,YAGxB,IAAMgG,EAAW9I,EAAKC,IAAL,UAAcpD,wBAAd,uBAA0DmD,EAAKC,IAA/D,aAAsE,IAAIqC,MAAOC,WAAc2F,EAEhH,OACI,sBAAKtH,UAAU,YAAf,UACI,qBAAIA,UAAU,YAAd,sBAAoCZ,EAAKoC,QACzC,sBAAKxB,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SAEI,qBACIe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAC/BhB,UAAU,gBACVyB,IAAKyG,EACLpG,QAAS,SAAAV,GAAC,OACNA,EAAEhB,OAAOqB,IAAT,UAAkB6F,IAEtB1F,IAAKxC,EAAKoC,SAKlB,sBAAKxB,UAAU,WAAf,UAEI,sBAAKA,UAAU,YAAf,UAEI,wCAAWZ,EAAKd,SAChB,iDAAkB,IAAIoD,KAAKtC,EAAK+C,SAASC,kBAGvCC,KAAK1D,MAAMmJ,MAASzF,KAAKpC,SAASb,EAAKQ,SAKzC1B,IAAkBkB,MAAQlB,IAAkBkB,KAAKC,MAAQD,EAAKC,IAE1D,sBAAKW,UAAU,UAAf,UAEI,cAAC,IAAD,CAAMA,UAAU,wCAAwCkC,GAAE,0BAAqB9C,EAAKC,KAApF,6BAIA,cAAC,IAAD,CAAMW,UAAU,kCAAkCkC,GAAE,yBAAoB9C,EAAKC,KAA7E,0BAIA,cAAC,IAAD,CAAMW,UAAU,kCAAkCkC,GAAE,qBAAgB9C,EAAKC,KAAzE,0BAIA,cAAC,EAAD,CAAYpC,OAASmC,EAAKC,SAI7B,cAAC,EAAD,CAAqB6H,UAAW7E,KAAK1D,MAAMuI,UAAWF,cAAe3E,KAAKsF,0BAO3F,qBAAK3H,UAAU,MAAf,SACI,sBAAKA,UAAU,sBAAf,UACI,uBACA,mBAAGA,UAAU,OAAb,SAAqBZ,EAAK+I,QAC1B,uBAEA,cAAC,GAAD,CAAaf,UAAWhI,EAAKgI,UAAWF,UAAW9H,EAAK8H,UAAW3H,MAAOA,EAAOiC,KAAMpC,EAAKoC,mB,GA7L9Fe,aCyDN6F,G,kDAjEZ,aAAe,IAAD,8BACV,gBAqBJC,YAAc,SAACC,GAAD,OACV,qBAAKtI,UAAU,MAAf,SAEQsI,EAAMzI,KAAI,SAACT,EAAOgC,GAAR,OACN,sBAAKpB,UAAU,+BAAf,UAEI,qBACIe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAC/BhB,UAAU,gBACVyB,IAAG,UAAKxF,wBAAL,uBAAiDmD,EAAKC,KACzDyC,QAAS,SAAAV,GAAC,OACNA,EAAEhB,OAAOqB,IAAT,UAAkB6F,IAEtB1F,IAAKxC,EAAKoC,OAGd,sBAAKxB,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BZ,EAAKoC,OACjC,mBAAGxB,UAAU,YAAb,SAA0BZ,EAAKd,QAC/B,cAAC,IAAD,CAAM4D,GAAE,gBAAW9C,EAAKC,KAAOW,UAAU,oCAAzC,+BAf2CoB,SAxB/D,EAAKzC,MAAQ,CACT2J,MAAO,GACPvJ,SAAS,GAJH,E,qDAQd,WAAqB,IAAD,OPyCb/C,MAAM,GAAD,OAAIC,wBAAJ,UAA2C,CACnDC,OAAQ,QAEXC,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MO/CjBZ,MAAK,SAAAmD,GACJA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SAAS,CAACwJ,MAAOhJ,EAAMP,SAAS,S,oBAgCjD,WAAU,IAAD,EACoBsD,KAAK1D,MAAvB2J,EADF,EACEA,MAAOvJ,EADT,EACSA,QACd,OACI,sBAAKiB,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,uBAEEjB,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAoE,GAG/EqC,KAAKgG,YAAYC,U,GA3Dd/F,aC+OJgG,G,kDA7OZ,aAAe,IAAD,8BACV,gBAmBJ7J,KAAO,SAACzB,GACJ,IAAMN,EAAQuB,IAAkBvB,MAChC8I,EAAKxI,EAAQN,GACZR,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC0J,mBAAmB,IAKlC,EAAK1J,SAAS,CAAE4B,GAAIpB,EAAKD,IAAKmC,KAAMlC,EAAKkC,KAAMlD,MAAOgB,EAAKhB,MAAOvB,MAAO,GAAIoL,MAAO7I,EAAK6I,YA/BvF,EAgDdzE,aAAe,SAAClC,GAAD,OAAU,SAAArB,GAAU,IAAD,EACxBL,EAAiB,UAAT0B,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAKtI,EAAMC,OAAON,MACtE,QAAc4I,IAAV5I,EAAJ,CAKkB,UAAT0B,GAEL,EAAK1C,SAAS,CAAE6J,cAAc,EAAOC,UAAWC,IAAIC,gBAAgB3I,EAAMC,OAAOqI,MAAM,MAI3F,IAAMM,EAAoB,UAATvH,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAGO,KAAO,EACjE,EAAKC,SAASC,IAAI1H,EAAM1B,GACxB,EAAKhB,UAAL,mBAAiB0C,EAAO1B,GAAxB,yBAA+BiJ,GAA/B,sBAAgD,IAAhD,SAXI,EAAKjK,SAAS,CAAE6J,cAAc,MApDxB,EAoEdQ,QAAU,WAAO,IAAD,EAC0C,EAAKxK,MAApD6C,EADK,EACLA,KAAMlD,EADD,EACCA,MAAO4F,EADR,EACQA,SAAUC,EADlB,EACkBA,WAE9B,OAHY,EAC8B4E,SAE3B,MAEX,EAAKjK,SAAS,CAAC/B,MAAO,oCACf,GAGS,IAAhByE,EAAKc,QAEL,EAAKxD,SAAS,CAAC/B,MAAO,uBACf,GAKN,gDAAgDqM,KAAK9K,GAKtD4F,EAAS5B,QAAU,GAAK4B,EAAS5B,QAAU,GAE3C,EAAKxD,SAAS,CAAC/B,MAAO,sDAEf,GAGPmH,IAAaC,IAEb,EAAKrF,SAAS,CAAC/B,MAAO,qCACf,IAbP,EAAK+B,SAAS,CAAC/B,MAAO,8BACf,IAxFD,EAyGdiH,YAAc,SAAA7D,IAEVA,EAAM8D,iBAGF,EAAKkF,aAEL,EAAKrK,SAAS,CAACC,SAAS,IRtGd,SAAC9B,EAAQN,EAAOyC,GAClC,OAAOpD,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CgB,GAAU,CAC5Df,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BO,KAAMkC,IAETjD,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MQ4FpBsM,CAHe,EAAKnE,MAAM8C,MAAMC,OAAOhL,OACzBiB,IAAkBvB,MAEV,EAAKsM,UAE1B9M,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,QR9DrB,SAACqC,EAAMxB,GAC7B,GAAsB,qBAAXC,QAEHC,aAAaK,QAAQ,OACzB,CACI,IAAImL,EAAOnM,KAAKiB,MAAMN,aAAaK,QAAQ,QAC3CmL,EAAKlK,KAAOA,EACZtB,aAAaC,QAAQ,MAAOZ,KAAKC,UAAUkM,IAC3C1L,KQ0DQ2L,CAAWjK,GAAM,WACb,EAAKR,SAAS,CACV0J,mBAAmB,YA/H7B,EAyId/D,WAAa,SAACjD,EAAMlD,EAAO6J,EAAOjE,EAAUC,GAA/B,OAET,iCACI,sBAAKnE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,6BACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAewJ,OAAO,eAG7F,sBAAKxJ,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAOS,SAAU,EAAKiD,aAAa,QAASlD,KAAK,OAAOR,UAAU,eAAeF,MAAO0B,OAG5F,sBAAKxB,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOQ,KAAK,QAAQR,UAAU,2BAA2BF,MAAOxB,EAAhE,SAAwEA,OAG5E,sBAAK0B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,0BAAUS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAeF,MAAOqI,OAGhG,sBAAKnI,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,0BACA,uBACA,uBAAOA,UAAU,aAAae,MAAO,CAACyC,SAAU,UAAhD,iEAEA,uBAAO/C,SAAU,EAAKiD,aAAa,YAAalD,KAAK,WAAWR,UAAU,oBAAoBF,MAAOoE,IACnGA,GACE,qCACI,uBAAOlE,UAAU,aAAjB,+BACA,uBAAOS,SAAU,EAAKiD,aAAa,cAAelD,KAAK,WAAWR,UAAU,eAAeF,MAAOqE,UAQ9G,wBAAQlD,QAAS,EAAK+C,YAAahE,UAAU,6BAA7C,wBA/KJ,EAAKrB,MAAQ,CACT+B,GAAI,GACJc,KAAM,GACNlD,MAAO,GACP6J,MAAO,GACPjE,SAAU,GACVC,WAAY,GACZqE,mBAAmB,EACnBzL,MAAO,GACPgM,SAAU,EACVhK,SAAS,EACT4J,cAAc,EACdC,UAAW,IAdL,E,qDAuCd,WAEIvG,KAAK4G,SAAW,IAAIQ,SACpB,IAAMxM,EAASoF,KAAK6C,MAAM8C,MAAMC,OAAOhL,OACvCoF,KAAK3D,KAAKzB,K,oBA2Id,WAAU,IAAD,EACgHoF,KAAK1D,MAAlH+B,EADH,EACGA,GAAIc,EADP,EACOA,KAAMlD,EADb,EACaA,MAAO4F,EADpB,EACoBA,SAAUC,EAD9B,EAC8BA,WAAYqE,EAD1C,EAC0CA,kBAAmBzL,EAD7D,EAC6DA,MAAOgC,EADpE,EACoEA,QAASoJ,EAD7E,EAC6EA,MAAOQ,EADpF,EACoFA,aAAcC,EADlG,EACkGA,UAEvG,GAAIJ,EAEA,OAAO,cAAC,IAAD,CAAUtG,GAAE,gBAAWxB,KAGlC,IAAMwH,EAAWxH,EAAE,UAAMzE,wBAAN,uBAAkDyE,EAAlD,aAAwD,IAAIgB,MAAOC,WAAc2F,EAEpG,OACI,sBAAKtH,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,0BAEA,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGHgC,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAoE,GAG5E2I,EAEQ,yBAAQ3I,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAKyG,EACLtG,IAAKJ,EACLM,QAAS,SAAAV,GAAC,OAAIA,EAAEhB,OAAOqB,IAAT,UAAkB6F,MAEpC,4BAAYtH,UAAU,iBAAtB,qCAKJ,yBAAQA,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAKmH,EACLhH,IAAKJ,IAET,4BAAYxB,UAAU,iBAAtB,qCAKiB,UAAhC9B,IAAkBkB,KAAKsK,MACnBxL,IAAkBkB,KAAKC,MAAQqB,GAC5B2B,KAAKoC,WAAWjD,EAAMlD,EAAO6J,EAAOjE,EAAUC,U,GAvO5C5B,a,kBCOXoH,GATM,SAAC,GAAD,IAAapH,EAAb,EAAEqH,UAAyBC,EAA3B,qCAEjB,aADA,CACC,IAAD,6BAAWA,GAAX,IAAiBC,OAAQ,SAAA5E,GAAK,OAAIhH,IAC9B,cAACqE,EAAD,gBAAe2C,IAEf,cAAC,IAAD,CAAUhD,GAAI,CAACW,SAAU,UAAWlE,MAAO,CAACoL,KAAM7E,EAAMtC,kBC2GhDoH,G,kDA7GZ,aAAe,IAAD,8BACV,gBA2BJC,YAAc,SAAC7K,EAAMgC,GACjB,IAAMnE,EAASiB,IAAkBkB,KAAKC,IAChC1C,EAAQuB,IAAkBvB,MAEhC+I,EAAOzI,EAAQN,EAAOyC,EAAKC,KAC1BlD,MAAK,SAAAmD,GACF,GAAIA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,YAG/B,CACI,IAAImN,EAAW,EAAKvL,MAAM2J,MAC1B4B,EAASC,OAAO/I,EAAG,GACnB,EAAKtC,SAAS,CACVwJ,MAAO4B,EACPvG,MAAM,EACNyG,cAAc,aAAD,OAAehL,EAAKoC,MACjCzE,MAAO,UA9CT,EAoDdsL,YAAc,SAACC,GAAD,OACV,qBAAKtI,UAAU,MAAf,SAEQsI,EAAMzI,KAAI,SAACT,EAAOgC,GAAR,OACN,sBAAKpB,UAAU,+BAAf,UAEI,qBACIe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAC/BhB,UAAU,gBACVyB,IAAG,UAAKxF,wBAAL,uBAAiDmD,EAAKC,KACzDyC,QAAS,SAAAV,GAAC,OACNA,EAAEhB,OAAOqB,IAAT,UAAkB6F,IAEtB1F,IAAKxC,EAAKoC,OAId,sBAAKxB,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BZ,EAAKoC,OACjC,mBAAGxB,UAAU,YAAb,SAA0BZ,EAAKd,QAE/B,cAAC,IAAD,CAAM4D,GAAE,gBAAW9C,EAAKC,KAAOW,UAAU,oCAAzC,0BAIA,wBAAQiB,QAAS,kBAAM,EAAKgJ,YAAY7K,EAAMgC,IAAIpB,UAAU,6CAA5D,yBArB2CoB,SAtD/D,EAAKzC,MAAQ,CACT2J,MAAO,GACP3E,MAAM,EACN5G,MAAO,GACPqN,cAAe,GACfrL,SAAS,GAPH,E,qDAWd,WAAqB,IAAD,QVoGE,SAAC9B,EAAQN,GAC/B,OAAOX,MAAM,GAAD,OAAIC,wBAAJ,4BAAqDgB,GAAU,CACvEf,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,OU9GxBsN,CAHenM,IAAkBkB,KAAKC,IACxBnB,IAAkBvB,OAENR,MAAK,SAAAmD,GACvBA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,QAIjBP,QAAQC,IAAI,SAAU6C,GACtB,EAAKR,SAAS,CAACwJ,MAAOhJ,EAAMP,SAAS,U,oBAgEjD,WAAU,IAAD,EACyCsD,KAAK1D,MAA5C2J,EADF,EACEA,MAAO3E,EADT,EACSA,KAAMyG,EADf,EACeA,cAAerL,EAD9B,EAC8BA,QACnC,OAGI,sBAAKiB,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,6BAEEjB,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAoE,GAG5E2D,GAAQ,qBAAK3D,UAAU,sBAAf,SACJ,4BAAIoK,MAGX/H,KAAKgG,YAAYC,U,GAvGT/F,aCAnBhE,GAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WAmP7F+L,G,kDAhPZ,aAAe,IAAD,8BACV,gBAgCJ5G,aAAe,SAAClC,GAAD,OAAU,SAAArB,GAAU,IAAD,EACxBL,EAAiB,UAAT0B,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAKtI,EAAMC,OAAON,MACtE,QAAc4I,IAAV5I,EAAJ,CAKkB,UAAT0B,GAEL,EAAK1C,SAAS,CAAE6J,cAAc,EAAOC,UAAWC,IAAIC,gBAAgB3I,EAAMC,OAAOqI,MAAM,MAG3F,IAAMM,EAAoB,UAATvH,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAGO,KAAO,EACjE,EAAKuB,SAASrB,IAAI1H,EAAM1B,GACxB,EAAKhB,UAAL,mBAAiB0C,EAAO1B,GAAxB,yBAA+BiJ,GAA/B,sBAAgD,IAAhD,SAVI,EAAKjK,SAAS,CAAE6J,cAAc,MArCxB,EAkDd/E,WAAa,SAACpC,GAAD,OAAU,SAAArB,GACnB,EAAKrB,SAAS,CAAC0L,UAAU,EAAM7G,MAAM,IAErC,IAAIE,EAAO1D,EAAMC,OAAOC,QACpBN,EAAQxB,GAASuF,QAAQtC,GAEzBuC,EAAM,EAAKpF,MAAMiB,KACrBmE,EAAIhE,GAAS8D,EAAO,EAAE,EACtB,EAAK/E,SAAS,CAAEc,KAAMmE,IACtB,EAAKwG,SAASrB,IAAI,OAAQnF,KA3DhB,EA+DdoF,QAAU,WAAO,IAAD,EACsB,EAAKxK,MAA/BkD,EADI,EACJA,MAAO3E,EADH,EACGA,KAEf,OAHY,EACS6L,SAEN,KAEX,EAAKjK,SAAS,CAAC/B,MAAO,oCACf,GAGU,IAAjB8E,EAAMS,QAAgC,IAAhBpF,EAAKoF,SAE3B,EAAKxD,SAAS,CAAC/B,MAAO,iCACf,IA3ED,EAoFdiH,YAAc,SAAA7D,IAEVA,EAAM8D,iBAGF,EAAKtF,MAAM6L,UAAY,EAAKrB,YAE5B,EAAKrK,SAAS,CAACC,SAAS,IpBpGd,SAAC9B,EAAQN,EAAOwE,GAElC,OADA3E,QAAQC,IAAI0E,GACLnF,MAAM,GAAD,OAAIC,wBAAJ,qBAA8CgB,GAAU,CAChEf,OAAQ,OACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BO,KAAMiE,IAEThF,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MoByFpB0N,CAHevM,IAAkBkB,KAAKC,IACxBnB,IAAkBvB,MAEV,EAAK4N,UAE1BpO,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,QAI3B,EAAK+B,SAAS,CACVC,SAAS,EACT8C,MAAO,GACP3E,KAAM,GACNwN,MAAO,GACP9K,KAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACrB4I,mBAAmB,QAQ/B,EAAK1J,SAAS,CAAC6E,MAAM,KAtHf,EA0HdU,eAAiB,SAAAC,GAAK,OAClB,wBAAOtE,UAAU,kBAAjB,UACI,uBAAOQ,KAAK,WAAWR,UAAU,mBAAmBS,SAAU,EAAKmD,WAAWU,GAAQjE,UAAY,EAAK1B,MAAMiB,KAAKrB,GAASuF,QAAQQ,MAC9HA,IAF+B/F,GAASuF,QAAQQ,KA3H/C,EAiIdC,iBAAmB,kBACfhG,GAASsB,IAAI,EAAKwE,iBAlIR,EAqIdG,SAAW,kBACP,sBAAKxE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,wBACA,uBACA,qBAAKA,UAAU,yBAAf,SAEK,EAAKuE,yBA3IJ,EAkJdoG,YAAc,SAAC9I,EAAO3E,EAAM0N,EAAOC,GAArB,OAEV,iCACI,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAewJ,OAAO,eAG7F,sBAAKxJ,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAeF,MAAO+B,OAG7F,sBAAK7B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,yBACA,0BAAUS,SAAU,EAAKiD,aAAa,QAASlD,KAAK,OAAOR,UAAU,eAAeF,MAAO5C,OAG/F,sBAAK8C,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAeF,MAAO8K,OAG7F,sBAAK5K,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,2BACA,uBAAOS,SAAU,EAAKiD,aAAa,eAAgBlD,KAAK,OAAOR,UAAU,eAAeF,MAAO+K,OAGlG,EAAKrG,WAEN,wBAAQvD,QAAS,EAAK+C,YAAahE,UAAU,6BAA7C,6BA9KJ,EAAKrB,MAAQ,CACTkD,MAAO,GACP3E,KAAM,GACNwN,MAAO,GACPE,MAAO,GACPC,YAAa,GACb9N,MAAO,GACPgM,SAAU,EACVhK,SAAS,EACTyJ,mBAAmB,EACnBgC,UAAU,EACV7G,MAAM,EACN/D,KAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACrB+I,cAAc,EACdC,UAAW,GACXxJ,KAAM,IAjBA,E,qDAuBd,WAEIiD,KAAKkI,SAAW,IAAId,SACpBpH,KAAKvD,SAAS,CACVM,KAAMlB,IAAkBkB,S,oBA4JhC,WAAU,IAAD,EAC8GiD,KAAK1D,MAAhHkD,EADH,EACGA,MAAO3E,EADV,EACUA,KAAM0N,EADhB,EACgBA,MAAOC,EADvB,EACuBA,YAAYzL,EADnC,EACmCA,KAAML,EADzC,EACyCA,QAAShC,EADlD,EACkDA,MAAOyL,EADzD,EACyDA,kBAAmB7E,EAD5E,EAC4EA,KAAMgF,EADlF,EACkFA,aAAcC,EADhG,EACgGA,UAErG,OAAIJ,EAEO,cAAC,IAAD,CAAUtG,GAAE,gBAAW9C,EAAKC,OAMnC,sBAAKW,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,8BAEA,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGL,qBAAKiD,UAAU,qBAAqBe,MAAO,CAAC2D,QAASf,EAAO,GAAK,QAAjE,sDAKE5E,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAoE,GAG5E2I,EAEQ,yBAAQ3I,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAKM,EACLH,IAAKC,IAET,4BAAY7B,UAAU,iBAAtB,2CAKJ,yBAAQA,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAKmH,EACLhH,IAAKC,IAET,4BAAY7B,UAAU,iBAAtB,qCAKfqC,KAAKsI,YAAY9I,EAAO3E,EAAM0N,EAAOC,U,GA1OhCtI,aC2JPuI,G,4MA5JXnM,MAAQ,CACJoM,KAAM,GACNhO,MAAO,I,EAGX2G,aAAe,SAAAvD,GACX,EAAKrB,SAAS,CAACiM,KAAM5K,EAAMC,OAAON,MAAO/C,MAAO,M,EAGpDoM,QAAU,WAAO,IACN4B,EAAQ,EAAKpM,MAAboM,KACP,OAAOA,EAAKzI,OAAS,IAKXyI,EAAKzI,OAAS,OAEpB,EAAKxD,SAAS,CAAC/B,MAAO,0CACf,IANP,EAAK+B,SAAS,CAAC/B,MAAO,kCACf,I,EAUfiO,WAAa,SAAAC,GAGT,GAFAA,EAAEhH,kBAEG/F,IAED,OADA,EAAKY,SAAS,CAAC/B,MAAO,uCACf,EAIX,GAAI,EAAKoM,UACT,CACI,IAAMxM,EAAQuB,IAAkBvB,MAC1BM,EAASiB,IAAkBkB,KAAKC,IAChCtD,EAAS,EAAKmJ,MAAMnJ,OACpBmP,EAAa,CAACH,KAAM,EAAKpM,MAAMoM,MACrCvN,EAAQP,EAAQN,EAAOZ,EAAQmP,GAC9B/O,MAAK,SAAAmD,GACEA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,QAIjB,EAAK+B,SAAS,CAACiM,KAAM,KAErB,EAAK7F,MAAMiG,eAAe7L,EAAK8L,gB,EAM/CC,cAAgB,SAAC7N,GACb,IAAMb,EAAQuB,IAAkBvB,MAC1BM,EAASiB,IAAkBkB,KAAKC,IAChCtD,EAAS,EAAKmJ,MAAMnJ,OAC1B0B,EAAUR,EAAQN,EAAOZ,EAAQyB,GAChCrB,MAAK,SAAAmD,GACEA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAKjB,EAAKmI,MAAMiG,eAAe7L,EAAK8L,c,EAK3CxE,gBAAkB,SAACpJ,GACFK,OAAOgJ,QAAQ,kDAGxB,EAAKwE,cAAc7N,I,4CAK3B,WAAU,IAAD,OAEE4N,EAAY/I,KAAK6C,MAAjBkG,SACPA,EAASE,UAHJ,IAIEvO,EAASsF,KAAK1D,MAAd5B,MAEP,OACI,sBAAKiD,UAAU,YAAf,UAGI,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGL,sBAAKiD,UAAU,YAAf,UACI,qBAAIA,UAAU,eAAd,UAA8B,IAAKoL,EAAS9I,OAA5C,aAA6D,mBAAGtC,UAAU,0BAC1E,uBACA,sBAAMuL,SAAUlJ,KAAK2I,WAArB,SACI,sBAAKhL,UAAU,kBAAf,UACI,uBAAOQ,KAAK,OAAOC,SAAU4B,KAAKqB,aAAc1D,UAAU,eAAeF,MAAOuC,KAAK1D,MAAMoM,KAAMS,YAAY,uBAC7G,wBAAQxL,UAAU,kCAAlB,uBAKJoL,EAASvL,KAAI,SAACrC,EAAS4D,GACnB,IAAMqK,EAAgBjO,EAAQ8D,SAAR,gBAA4B9D,EAAQ8D,SAASjC,KAAQ,GACrEkC,EAAa/D,EAAQ8D,SAAW9D,EAAQ8D,SAASE,KAAO,WACxDH,EAAW7D,EAAQ8D,SAAR,UAAsB9D,EAAQ8D,SAASjC,KAAQ,GAEhE,OACA,8BACI,gCACI,cAAC,IAAD,CAAM6C,GAAE,gBAAWuJ,GAAnB,SACI,qBACIzL,UAAU,kBACVe,MAAO,CAACiB,OAAQ,OAAQhB,MAAO,OAAQiC,aAAc,OACrDxB,IAAG,UAAKxF,wBAAL,uBAAiDoF,GACpDO,IAAKL,EACLO,QAAS,SAAAV,GAAC,OAAKA,EAAEhB,OAAOqB,IAAT,UAAkB6F,QAIzC,gCACI,mBAAGtH,UAAU,OAAb,SAAqBxC,EAAQuN,OAC7B,oBAAG/K,UAAU,4BAAb,wBACe,eAAC,IAAD,CAAMkC,GAAE,gBAAWuJ,GAAnB,UAAqClK,EAAY,OADhE,MAEQ,IAAIG,KAAKlE,EAAQ2E,SAASC,eAC7B5F,QAAQC,IAAIyB,IAAkBkB,KAAKC,IAAK,IAAKgC,GAHlD,IAII,+BAEQnD,IAAkBkB,MAAQlB,IAAkBkB,KAAKC,MAAQgC,GACzD,mCACI,sBAAMJ,QAAU,kBAAM,EAAK2F,gBAAgBpJ,IAAUwC,UAAU,+BAA+Be,MAAO,CAACmC,OAAO,WAA7G,2BAKhB,8BA3BF9B,gB,GAlHhBmB,aCEhBhE,GAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WA4V9FmN,G,4MAzVX/M,MAAQ,CACJwC,KAAM,GACNvB,KAAM,GACN+L,gBAAgB,EAChB9D,kBAAkB,EAClB7K,MAAM,EACN4O,MAAO,EACPtO,eAAe,EACfyI,SAAU,GACVqF,SAAU,I,EAGdS,UAAY,SAACD,GACT,IAAM3O,EAASiB,KAAqBA,IAAkBkB,KAAKC,IAE3D,OADwC,IAA3BuM,EAAM9H,QAAQ7G,I,EAI/ByB,KAAO,WACH,IAAM/B,EAAQuB,IAAkBvB,MAC1BM,EAASiB,KAAqBA,IAAkBkB,KAAKC,IAC3DoG,EAAKxI,EAAQN,GACZR,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC0J,mBAAmB,IAKlC,EAAK1J,SAAS,CAACiH,SAAUzG,EAAKM,W,EAK1CkM,kBAAoB,WAChB,EAAKpN,OACL,IAAM3C,EAAS,EAAKmJ,MAAM8C,MAAMC,OAAOlM,OACvCD,EAAWC,GAAQI,MAAK,SAAAmD,GAChBA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SACD,CACIqC,KAAM7B,EACNM,KAAMN,EAAKM,KACXgM,MAAOtM,EAAKsM,MAAMtJ,OAClBtF,KAAM,EAAK6O,UAAUvM,EAAKsM,OAC1BtO,cAAe,EAAKuO,UAAUvM,EAAKhC,eACnC8N,SAAU9L,EAAK8L,e,EAWnCtF,WAAa,SAACjC,GAAU,IAAD,EACM,EAAKlF,MAAvBiB,EADY,EACZA,KAAMmG,EADM,EACNA,SACPpJ,EAAQuB,IAAkBvB,MAC1BM,EAASiB,IAAkBkB,KAAKC,IACtCO,EAAKC,KAAK,SAACC,EAAOC,GACd,IAAIgM,EAAS,IAAOnM,EAAKG,GASzB,OARI8D,EAEAkC,EAAShG,IAAUgM,EAInBhG,EAAShG,IAAUgM,GAEhB,KAEXjG,EAAW7I,EAAQN,EAAOoJ,GAAU5J,MAAK,SAAAmD,GACjCA,EAAKvC,OAELP,QAAQC,IAAI6C,EAAKvC,W,EAS7BoO,eAAiB,SAAAC,GACb,EAAKtM,SAAS,CAACsM,c,EAInBY,WAAa,WACT,IAAK9N,IAED,OADA,EAAKY,SAAS,CAAE+I,kBAAkB,KAC3B,EAEXrL,QAAQC,IAAI,gBACZ,IAAImL,EAAU,EAAKjJ,MAAM3B,KAAOK,EAASL,EACrCiP,EAAW,EAAKtN,MAAM3B,KAAOiJ,EAAWD,EACtCjK,EAAS,EAAK4C,MAAMwC,KAAK9B,IACzB1C,EAAQuB,IAAkBvB,MAC1BM,EAASiB,IAAkBkB,KAAKC,IACtCuI,EAAQ3K,EAAQN,EAAOZ,GAAQI,MAAK,SAAAmD,GAC5BA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,QAIjBP,QAAQC,IAAI,aACZ,EAAKqC,SAAS,CACV9B,MAAO,EAAK2B,MAAM3B,KAClB4O,MAAOtM,EAAKsM,MAAMtJ,SAGlB,EAAK3D,MAAM3B,MAAQ,EAAK2B,MAAMrB,eAE9B,EAAK4O,sBAET,EAAKpG,WAAW,EAAKnH,MAAM3B,UAGnCiP,EAAShP,EAAQN,EAAOZ,GAAQI,MAAK,SAAAmD,GAC7BA,EAAKvC,OAELP,QAAQC,IAAI6C,EAAKvC,W,EAS7BmP,oBAAsB,WAClB,IAAKhO,IAED,OADA,EAAKY,SAAS,CAAE+I,kBAAkB,KAC3B,EAEXrL,QAAQC,IAAI,yBACZ,IAAImL,EAAU,EAAKjJ,MAAMrB,cAAgBC,EAAoBD,EACvDvB,EAAS,EAAK4C,MAAMwC,KAAK9B,IACzB1C,EAAQuB,IAAkBvB,MAEhCiL,EADe1J,IAAkBkB,KAAKC,IACtB1C,EAAOZ,GAAQI,MAAK,SAAAmD,GAC5BA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,QAIjBP,QAAQC,IAAI,uBACZ,EAAKqC,SAAS,CACVxB,eAAgB,EAAKqB,MAAMrB,gBAG3B,EAAKqB,MAAMrB,eAAiB,EAAKqB,MAAM3B,MAEvC,EAAKgP,aAET,EAAKlG,YAAY,EAAKnH,MAAMrB,oB,EAMxCqC,aAAe,SAACC,GAAD,OAEXA,EAAKC,KAAI,SAACC,EAAOC,GAET,QAAID,GAAS,KAGL,wBAAOE,UAAU,wCAAjB,cAAuEzB,GAASwB,GAAhF,MAA8DA,O,EAQlFE,SAAW,SAACL,GAAD,OACP,sBAAKI,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,yBACA,uBACA,qBAAKA,UAAU,eAAf,SACK,EAAKL,aAAaC,S,EAM/BuM,WAAa,WACT,IAAMpQ,EAAS,EAAKmJ,MAAM8C,MAAMC,OAAOlM,OACjCY,EAAQuB,IAAkBvB,MAChCD,EAAOX,EAAQY,GACdR,MAAK,SAAAmD,GACEA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SAAS,CAAC6M,gBAAgB,Q,EAK3C/E,gBAAkB,WACD/I,OAAOgJ,QAAQ,qHAGxB,EAAKsF,c,EAKbC,WAAa,SAACjL,GAEV,IAAME,EAAWF,EAAKG,SAAL,gBAAyBH,EAAKG,SAASjC,KAAQ,GAC1DkC,EAAaJ,EAAKG,SAAWH,EAAKG,SAASE,KAAO,WAHrC,EAKmB,EAAK7C,MAAnC3B,EALW,EAKXA,KAAM4O,EALK,EAKLA,MAAOtO,EALF,EAKEA,cAErB,OAGQ,sBAAK0C,UAAU,YAAf,UACI,qBACIyB,IAAG,UAAKxF,wBAAL,uBAAiDkF,EAAK9B,IAAtD,aAA6D,IAAIqC,MAAOC,WAC3EC,IAAKT,EAAKU,MACVC,QAAS,SAAAV,GAAC,OAAIA,EAAEhB,OAAOqB,IAAT,UAAkBM,IAChC/B,UAAU,qBACVe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,OAAQqL,UAAW,WAGpDnO,IAAkBkB,KAAKC,MAAQ8B,EAAKG,SAASjC,MAASrC,EAEhD,oBAAIgD,UAAU,gBAAd,SACI,mBAAGiB,QAAS,EAAK+K,WAAYhM,UAAU,uCAAuCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,WAKxH,oBAAIjD,UAAU,gBAAd,SACI,mBAAIiB,QAAS,EAAK+K,WAAYhM,UAAU,qCAAqCe,MAAO,CAACiC,QAAS,OAAQC,aAAa,YAK7H/E,IAAkBkB,KAAKC,MAAQ8B,EAAKG,SAASjC,MAAU/B,EASjD,oBAAI0C,UAAU,WAAd,SACI,mBAAGiB,QAAS,EAAKiL,oBAAqBlM,UAAU,8CAA8Ce,MAAO,CAACiC,QAAS,OAAQC,aAAa,WARxI,oBAAIjD,UAAU,WAAd,SACI,mBAAGiB,QAAS,EAAKiL,oBAAqBlM,UAAU,4CAA4Ce,MAAO,CAACiC,QAAS,OAAQC,aAAa,YAa9I,qBAAIjD,UAAU,WAAd,UACI,IAAK4L,EADT,gBAiBA,mBAAG5L,UAAU,iBAAb,SAA+BmB,EAAKjE,OACpC,oBAAG8C,UAAU,YAAb,UAAyB,4CAAzB,IAAkDmB,EAAKyJ,SACvD,oBAAG5K,UAAU,YAAb,UAAyB,oDAAzB,IAA0DmB,EAAK0J,eAC/D,uBAGA,oBAAG7K,UAAU,mBAAb,wBACe,eAAC,IAAD,CAAMkC,GAAE,UAAKb,GAAb,UAA0BE,EAAY,OADrD,MAEQ,IAAIG,KAAKP,EAAKgB,SAASC,kBAG9B,EAAKnC,SAAS,EAAKtB,MAAMiB,MAE1B,sBAAKI,UAAU,iBAAf,UACI,cAAC,IAAD,CAAMkC,GAAE,IAAOlC,UAAU,yCAAzB,4BAGI9B,IAAkBkB,MAAQlB,IAAkBkB,KAAKC,MAAQ8B,EAAKG,SAASjC,KACvE,qCACI,cAAC,IAAD,CAAM6C,GAAE,qBAAgBf,EAAK9B,KAAOW,UAAU,yCAA9C,0BACA,wBAAQiB,QAAS,EAAK2F,gBAAiB5G,UAAU,mCAAjD,oC,4CAY5B,WAAU,IAAD,EACuDqC,KAAK1D,MAA1DwC,EADF,EACEA,KAAMwK,EADR,EACQA,eAAgB9D,EADxB,EACwBA,iBAAkBuD,EAD1C,EAC0CA,SAE/C,OAAIO,EAEO,cAAC,IAAD,CAAUzJ,GAAE,MAEd2F,EAEE,cAAC,IAAD,CAAU3F,GAAE,YAInB,sBAAKlC,UAAU,YAAf,UACI,oBAAIA,UAAU,sBAAd,SAAqCmB,EAAKU,QAEvCV,EAA6EkB,KAAK+J,WAAWjL,GAAtF,sBAAKnB,UAAU,wBAAf,UAAuC,4CAAvC,OAEV,cAAC,GAAD,CAASjE,OAAQoF,EAAK9B,IAAK+L,SAAUA,EAASE,UAAWH,eAAgB9I,KAAK8I,wB,GAnVrE5I,aCJnBhE,GAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WAkQ9F+N,G,kDA/PX,aAAe,IAAD,8BACV,gBAiBJ5N,KAAO,SAAC3C,GACJD,EAAWC,GACVI,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC0J,mBAAmB,KAIlC,EAAK1J,SAAS,CACV4B,GAAIpB,EAAKgC,SAASjC,IAClBwC,MAAOvC,EAAKuC,MACZ3E,KAAMoC,EAAKpC,KACX0C,KAAMN,EAAKM,KACXgL,MAAOtL,EAAKsL,MACZC,YAAavL,EAAKuL,YAClB9N,MAAO,KAEXP,QAAQC,IAAI,EAAKkC,MAAMiB,WApCrB,EAkDd8D,aAAe,SAAClC,GAAD,OAAU,SAAArB,GAAU,IAAD,EACxBL,EAAiB,UAAT0B,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAKtI,EAAMC,OAAON,MACtE,QAAc4I,IAAV5I,EAAJ,CAKkB,UAAT0B,GAEL,EAAK1C,SAAS,CAAE6J,cAAc,EAAOC,UAAWC,IAAIC,gBAAgB3I,EAAMC,OAAOqI,MAAM,MAG3F,IAAMM,EAAoB,UAATvH,EAAmBrB,EAAMC,OAAOqI,MAAM,GAAGO,KAAO,EACjE,EAAKuB,SAASrB,IAAI1H,EAAM1B,GACxB,EAAKhB,UAAL,mBAAiB0C,EAAO1B,GAAxB,yBAA+BiJ,GAA/B,sBAAgD,IAAhD,SAVI,EAAKjK,SAAS,CAAE6J,cAAc,MAtDxB,EAqEdQ,QAAU,WAAO,IAAD,EACsB,EAAKxK,MAA/BkD,EADI,EACJA,MAAO3E,EADH,EACGA,KAEf,OAHY,EACS6L,SAEN,KAEX,EAAKjK,SAAS,CAAC/B,MAAO,oCACf,GAGU,IAAjB8E,EAAMS,QAAgC,IAAhBpF,EAAKoF,SAE3B,EAAKxD,SAAS,CAAC/B,MAAO,iCACf,IAjFD,EA0FdiH,YAAc,SAAA7D,IAEVA,EAAM8D,iBAENzH,QAAQC,IAAI,EAAKkC,MAAMiB,MACnB,EAAKuJ,aAEL,EAAKrK,SAAS,CAACC,SAAS,IvBkCd,SAAChD,EAAQY,EAAOwE,GAClC,OAAOnF,MAAM,GAAD,OAAIC,wBAAJ,iBAA0CF,GAAU,CAC5DG,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACRC,cAAc,UAAD,OAAYH,IAE7BO,KAAMiE,IAEThF,MAAK,SAAAC,GAGF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,MuB5CpBsM,CAHe,EAAK1K,MAAM+B,GACZxC,IAAkBvB,MAEV,EAAK4N,UAE1BpO,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC/B,MAAOuC,EAAKvC,QAI3B,EAAK+B,SAAS,CACVC,SAAS,EACT8C,MAAO,GACP3E,KAAM,GACNwN,MAAO,GACPlC,mBAAmB,SAnHzB,EA2Hd5E,WAAa,SAACpC,GAAD,OAAU,SAAArB,GACnB,EAAKrB,SAAS,CAAC0L,UAAU,EAAM7G,MAAM,IAErC,IAAIE,EAAO1D,EAAMC,OAAOC,QACpBN,EAAQxB,GAASuF,QAAQtC,GAEzBuC,EAAM,EAAKpF,MAAMiB,KACrBmE,EAAIhE,GAAS8D,EAAO,EAAE,EACtB,EAAK/E,SAAS,CAAEc,KAAMmE,IACtB,EAAKwG,SAASrB,IAAI,OAAQnF,KApIhB,EAuIdM,eAAiB,SAAAC,GAAK,OAClB,wBAAOtE,UAAU,kBAAjB,UACI,uBAAOQ,KAAK,WAAWR,UAAU,mBAAmBS,SAAU,EAAKmD,WAAWU,GAAQjE,UAAY,EAAK1B,MAAMiB,KAAKrB,GAASuF,QAAQQ,MAC9HA,IAF+B/F,GAASuF,QAAQQ,KAxI/C,EA8IdC,iBAAmB,kBACfhG,GAASsB,IAAI,EAAKwE,iBA/IR,EAkJdG,SAAW,kBACP,sBAAKxE,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,wBACA,uBACA,qBAAKA,UAAU,yBAAf,SAEK,EAAKuE,yBAxJJ,EA+JdgI,aAAe,SAAC7L,EAAImB,EAAO3E,EAAM0N,EAAOC,GAAzB,OAEX,iCACI,sBAAK7K,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAewJ,OAAO,eAG7F,sBAAKxJ,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAeF,MAAO+B,OAG7F,sBAAK7B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,0BAAUS,SAAU,EAAKiD,aAAa,QAASlD,KAAK,OAAOR,UAAU,eAAeF,MAAO5C,OAG/F,sBAAK8C,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOS,SAAU,EAAKiD,aAAa,SAAUlD,KAAK,OAAOR,UAAU,eAAeF,MAAO8K,OAG7F,sBAAK5K,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,2BACA,uBAAOS,SAAU,EAAKiD,aAAa,eAAgBlD,KAAK,OAAOR,UAAU,eAAeF,MAAO+K,OAIlG,EAAKrG,WACN,sBAAKxE,UAAU,iBAAf,UACI,wBAAQiB,QAAS,EAAK+C,YAAahE,UAAU,kCAA7C,0BACA,cAAC,IAAD,CAAMkC,GAAE,gBAAWxB,GAAMV,UAAU,4BAAnC,2BA7LR,EAAKrB,MAAQ,CACT+B,GAAI,GACJmB,MAAO,GACP3E,KAAM,GACN0N,MAAO,GACPC,YAAa,GACbrC,mBAAmB,EACnBzL,MAAO,GACPgM,SAAU,EACVhK,SAAS,EACT4J,cAAc,EACdC,UAAW,GACXhJ,KAAM,IAdA,E,qDA0Cd,WAEIyC,KAAKkI,SAAW,IAAId,SACpB,IAAM1N,EAASsG,KAAK6C,MAAM8C,MAAMC,OAAOlM,OACvCsG,KAAK3D,KAAK3C,K,oBAuJd,WAAU,IAAD,EACqGsG,KAAK1D,MAAxG+B,EADF,EACEA,GAAImB,EADN,EACMA,MAAO3E,EADb,EACaA,KAAM0N,EADnB,EACmBA,MAAOC,EAD1B,EAC0BA,YAAa9N,EADvC,EACuCA,MAAO4L,EAD9C,EAC8CA,aAAcC,EAD5D,EAC4DA,UAAWJ,EADvE,EACuEA,kBAAmBzJ,EAD1F,EAC0FA,QAE/F,OAAIyJ,EAEO,cAAC,IAAD,CAAUtG,GAAE,gBAAWxB,KAI9B,sBAAKV,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,wBAEA,qBAAKA,UAAU,qBAAqBe,MAAO,CAAC2D,QAAS3H,EAAQ,GAAK,QAAlE,SACKA,IAGJgC,EACG,qBAAKiB,UAAU,wBAAf,SACI,8CAGJ,GAIA2I,EAEQ,yBAAQ3I,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAG,UAAKxF,wBAAL,uBAAiDyE,GACpDkB,IAAKC,EACLC,QAAS,SAAAV,GAAC,OAAIA,EAAEhB,OAAOqB,IAAT,UAAkBM,MAEpC,4BAAY/B,UAAU,iBAAtB,qCAKJ,yBAAQA,UAAU,SAAlB,UACI,qBAAKe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,QAChChB,UAAU,+BACVyB,IAAKmH,EACLhH,IAAKC,IAET,4BAAY7B,UAAU,iBAAtB,qCAKiB,UAAhC9B,IAAkBkB,KAAKsK,MACnBxL,IAAkBkB,KAAKC,MAAQqB,GAC5B2B,KAAKkK,aAAa7L,EAAImB,EAAO3E,EAAM0N,EAAOC,U,GA1P3CtI,aCFjBhE,GAAW,CAAC,gBAAiB,SAAU,cAAe,QAAU,eAAiB,QAAS,YAAa,WA8H9FiO,G,kDA3HX,aAAe,IAAD,8BACV,gBAwCJ7M,aAAe,SAACC,GAAD,OACXA,EAAKC,KAAI,SAACC,EAAOC,GAET,QAAID,GAAS,KAGL,wBAAOE,UAAU,yCAAjB,cAAwEzB,GAASwB,GAAjF,MAA+DA,OA/CrE,EAuDdE,SAAW,SAACL,GAAD,OACP,sBAAKI,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,wBACA,uBACA,qBAAKA,UAAU,yBAAf,SACK,EAAKL,aAAaC,SA5DjB,EAmEdsB,YAAc,SAAC3B,GACX,OACI,qBAAKS,UAAU,MAAf,SACIT,EAAMM,KAAI,SAACsB,EAAOC,GACd,IAAMC,EAAWF,EAAKG,SAAL,gBAAyBH,EAAKG,SAASjC,KAAQ,GAC1DkC,EAAaJ,EAAKG,SAAWH,EAAKG,SAASE,KAAO,WAExD,OACI,qBAAKxB,UAAU,gBAAf,SAEI,sBAAKA,UAAU,YAAf,UACI,qBACIyB,IAAG,UAAKxF,wBAAL,uBAAiDkF,EAAK9B,IAAtD,aAA6D,IAAIqC,MAAOC,WAC3EC,IAAKT,EAAKU,MACVC,QAAS,SAAAV,GAAC,OAAIA,EAAEhB,OAAOqB,IAAT,UAAkBM,IAChC/B,UAAU,qBACVe,MAAO,CAACiB,OAAQ,QAAShB,MAAM,UAInC,oBAAIhB,UAAU,aAAd,SAA4BmB,EAAKU,QACjC,mBAAG7B,UAAU,YAAb,SAA0BmB,EAAKjE,KAAK+E,UAAU,EAAG,OACjD,uBACA,oBAAGjC,UAAU,mBAAb,wBACe,eAAC,IAAD,CAAMkC,GAAE,UAAKb,GAAb,UAA0BE,EAAY,OADrD,MAEQ,IAAIG,KAAKP,EAAKgB,SAASC,kBAE9B,EAAKnC,SAASkB,EAAKvB,MACpB,cAAC,IAAD,CAAMsC,GAAE,gBAAWf,EAAK9B,KAAOW,UAAU,oCAAzC,wBApB4BoB,SAzEpD,EAAKzC,MAAQ,CACT6J,mBAAmB,EACnBjJ,MAAO,GACPR,SAAS,EACTK,KAAM,IANA,E,qDAUd,WAAqB,IAAD,OAEVnC,EAASoF,KAAK6C,MAAM8C,MAAMC,OAAOhL,OAClCA,IAAWiB,IAAkBkB,KAAKC,KAEnCgD,KAAKvD,SAAS,CAAC0J,mBAAmB,IAEtC,IAAM7L,EAAQuB,IAAkBvB,Of+Jf,SAACM,EAAQN,GAE9B,OADAH,QAAQC,IAAI,aACLT,MAAM,GAAD,OAAIC,wBAAJ,wBAAiDgB,GAAU,CACnEf,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBC,cAAc,UAAD,OAAYH,MAGhCR,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAS,GAAK,OAAIP,QAAQC,IAAIM,Oe3KxB0P,CAAUxP,EAAQN,GAAOR,MAAK,SAAAmD,GACtBA,EAAKvC,MAELP,QAAQC,IAAI6C,EAAKvC,OAIjB,EAAK+B,SAAS,CAACS,MAAOD,EAAMP,SAAS,OAG7C0G,EAAKxI,EAAQN,GACZR,MAAK,SAAAmD,GACEA,EAAKvC,MAEL,EAAK+B,SAAS,CAAC+I,kBAAkB,IAIjC,EAAK/I,SAAS,CAACM,KAAME,S,oBAqEjC,WAAU,IAAD,EAC6C+C,KAAK1D,MAAhDY,EADF,EACEA,MAAOR,EADT,EACSA,QAASK,EADlB,EACkBA,KACvB,OAFK,EACwBoJ,kBAGlB,cAAC,IAAD,CAAUtG,GAAE,gBAAW9C,EAAKoC,QAInC,sBAAKxB,UAAU,YAAf,UACI,qBAAIA,UAAU,YAAd,cAA4BZ,EAAKoC,KAAjC,yBAEEzC,EAAU,sBAAKiB,UAAU,wBAAf,UAAuC,4CAAvC,OAAsEqC,KAAKnB,YAAY3B,U,GArH1FgD,aC8DVmK,G,4MAjEX/N,MAAQ,CACJL,MAAO,GACPU,QAAS,GACTjC,MAAO,I,EAGXsB,eAAiB,SAAA4M,GACbA,EAAEhH,iBACF,EAAKnF,SAAS,CAAEE,QAAS,GAAIjC,MAAO,KACpCsB,EAAe,EAAKM,MAAML,OAAOnC,MAAK,SAAAmD,GAC9BA,EAAKvC,OACLP,QAAQC,IAAI6C,EAAKvC,OACjB,EAAK+B,SAAS,CAAE/B,MAAOuC,EAAKvC,UAE5BP,QAAQC,IAAI6C,EAAKN,SACjB,EAAKF,SAAS,CAAEE,QAASM,EAAKN,e,4CAK1C,WAAU,IAAD,OACL,OACI,sBAAKgB,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,4BAECqC,KAAK1D,MAAMK,SACR,qBAAKgB,UAAU,sBAAf,SACKqC,KAAK1D,MAAMK,UAGnBqD,KAAK1D,MAAM5B,OACR,qBAAKiD,UAAU,qBAAf,SACKqC,KAAK1D,MAAM5B,QAIpB,iCACI,qBAAKiD,UAAU,kBAAf,SACI,uBACIQ,KAAK,QACLR,UAAU,eACVwL,YAAY,2BACZ1L,MAAOuC,KAAK1D,MAAML,MAClBkD,KAAK,QACLf,SAAU,SAAAwK,GAAC,OACP,EAAKnM,SAAS,CACVR,MAAO2M,EAAE7K,OAAON,MAChBd,QAAS,GACTjC,MAAO,MAGf4P,WAAS,MAIjB,8BACI,wBAAQ1L,QAASoB,KAAKhE,eAAgB2B,UAAU,uCAAhD,sCACA,eAAC,IAAD,CAAMkC,GAAG,UAAUlC,UAAU,kCAA7B,UAAgE,IAAhE,iC,GA1DKuC,aC6EdqK,G,kDA5EX,WAAY1H,GAAQ,IAAD,8BACf,cAAMA,IAUV2H,cAAgB,SAAA5B,GACZA,EAAEhH,iBACF,EAAKnF,SAAS,CAAEE,QAAS,GAAIjC,MAAO,KAEpC,IxBgFqB+P,EwBhFfC,EAAc,EAAKpO,MAAMoO,YAG/B,GAFmB,EAAKpO,MAAMqO,aAEXD,EAGf,OADA,EAAKjO,SAAS,CAAC/B,MAAO,oCACf,GxB0EU+P,EwBvEP,CACVC,YAAa,EAAKpO,MAAMoO,YACxBE,kBAAmB,EAAK/H,MAAM8C,MAAMC,OAAOiF,oBxBsE5ClR,MAAM,GAAD,OAAIC,wBAAJ,oBAAqD,CAC7DC,OAAQ,MACRU,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBK,KAAMC,KAAKC,UAAU0P,KAEpB3Q,MAAK,SAAAC,GAEF,OADAI,QAAQC,IAAI,6BAA8BL,GACnCA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OwBjFvBJ,MAAK,SAAAmD,GACAA,EAAKvC,OACLP,QAAQC,IAAI6C,EAAKvC,OACjB,EAAK+B,SAAS,CAAE/B,MAAOuC,EAAKvC,UAE5BP,QAAQC,IAAI6C,EAAKN,SACjB,EAAKF,SAAS,CAAEE,QAASM,EAAKN,QAAS+N,YAAa,UA/B5D,EAAKpO,MAAQ,CACToO,YAAa,GACbC,WAAY,GACZhO,QAAS,GACTjC,MAAO,IANI,E,0CAsCnB,WAAU,IAAD,OACL,OACI,sBAAKiD,UAAU,YAAf,UACI,oBAAIA,UAAU,YAAd,iCAECqC,KAAK1D,MAAMK,SACR,qBAAKgB,UAAU,sBAAf,SACKqC,KAAK1D,MAAMK,UAGnBqD,KAAK1D,MAAM5B,OACR,qBAAKiD,UAAU,qBAAf,SACKqC,KAAK1D,MAAM5B,QAIpB,iCACI,sBAAKiD,UAAU,kBAAf,UACI,uBAAOQ,KAAK,WAAWR,UAAU,oBAAoBwL,YAAY,oBAAoB1L,MAAOuC,KAAK1D,MAAMoO,YAAavL,KAAK,cACrHf,SAAU,SAAAwK,GAAC,OAAI,EAAKnM,SAAS,CAACiO,YAAa9B,EAAE7K,OAAON,MAAOd,QAAS,GAAIjC,MAAO,MAAM4P,WAAS,IAGtG,uBAAOnM,KAAK,WAAWR,UAAU,eAAewL,YAAY,wBAAwB1L,MAAOuC,KAAK1D,MAAMqO,WAAYxL,KAAK,aAC/Gf,SAAU,SAAAwK,GAAC,OAAI,EAAKnM,SAAS,CAACkO,WAAY/B,EAAE7K,OAAON,MAAOd,QAAS,GAAIjC,MAAO,WAKtF,8BACI,wBAAQkE,QAASoB,KAAKwK,cAAe7M,UAAU,uCAA/C,4BACA,eAAC,IAAD,CAAMkC,GAAG,UAAUlC,UAAU,kCAA7B,UAAgE,IAAhE,iC,GArEIuC,aCUb4K,G,4JAXX,WACI,OACI,qBAAKnN,UAAU,YAAf,SACI,iCACG,oBAAIA,UAAU,OAAd,iD,GALUuC,aCmDd6K,GA/BI,WAEf,IAAMC,EAAoBC,wBAAc,CACpCC,MAAO,8BAGX,OACI,gCACMF,GAAqB,cAAC,EAAD,KACpBA,GAAqB,cAACG,EAAD,IAEpB,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAAC9K,KAAK,IAAIiH,UAAWpH,IACjC,cAAC,IAAD,CAAOiL,OAAK,EAAC9K,KAAK,mBAAmBiH,UAAW8C,KAChD,cAAC,IAAD,CAAOe,OAAK,EAAC9K,KAAK,sCAAsCiH,UAAWgD,KACnE,cAAC,IAAD,CAAOa,OAAK,EAAC9K,KAAK,SAASiH,UAAWxB,KACtC,cAAC,IAAD,CAAOqF,OAAK,EAAC9K,KAAK,UAAUiH,UAAWnG,IACvC,cAAC,IAAD,CAAOgK,OAAK,EAAC9K,KAAK,UAAUiH,UAAW1D,IACvC,cAAC,GAAD,CAAcuH,OAAK,EAAC9K,KAAK,QAAQiH,UAAWuD,KAC5C,cAAC,GAAD,CAAcM,OAAK,EAAC9K,KAAK,gBAAgBiH,UAAWrC,KACpD,cAAC,GAAD,CAAckG,OAAK,EAAC9K,KAAK,qBAAqBiH,UAAWrB,KACzD,cAAC,GAAD,CAAckF,OAAK,EAAC9K,KAAK,2BAA2BiH,UAAWI,KAC/D,cAAC,GAAD,CAAcyD,OAAK,EAAC9K,KAAK,yBAAyBiH,UAAWU,KAC7D,cAAC,GAAD,CAAcmD,OAAK,EAAC9K,KAAK,gBAAgBiH,UAAW8B,KACpD,cAAC,GAAD,CAAc+B,OAAK,EAAC9K,KAAK,qBAAqBiH,UAAW0C,KACzD,cAAC,GAAD,CAAcmB,OAAK,EAAC9K,KAAK,0BAA0BiH,UAAW4C,YCrCnEkB,GANH,kBACX,cAAC,IAAD,UACC,cAAC,GAAD,OCFFC,IAAS7D,OACP,cAAC,IAAM8D,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.8eb2a80d.chunk.js","sourcesContent":["export const create = (userId, token, post) => {\r\n    console.log(post);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const list = (loadAll, option, userId, page) => {\r\n    console.log(userId);\r\n    if ( loadAll )\r\n    {    \r\n        if (option === 0)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 1)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/oldest/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 2)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/popular/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n    }\r\n    else\r\n    {\r\n        if (option === 0)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 1)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/oldest/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n        if (option === 2)\r\n        {\r\n            return fetch(`${process.env.REACT_APP_API_URL}/posts/popular/${userId}/?page=${page}`, {\r\n                method: \"GET\"\r\n            })\r\n            .then(response => {\r\n                // promise will return response whether failure or success\r\n                // but the response needs to be handled here. This is where we handle it\r\n                return response.json();\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n    }\r\n}\r\n\r\nexport const singlePost = postId => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listByUser = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const remove = (postId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const update = (postId, token, post) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const like = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/like`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unlike = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const notInterested = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/notInteresed`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const undoNotInterested = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/notInteresed/undo`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const comment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const uncomment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}","export default __webpack_public_path__ + \"static/media/event.9994734f.jpg\";","export const signup = (user) => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n}; \r\n\r\nexport const signin = (user) => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n};  \r\n\r\nexport const authenticate = (jwt, next) => {\r\n    if(typeof window !== \"undefined\")\r\n    {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n        next();\r\n    }\r\n}\r\n\r\n\r\nexport const signout = (next) => {\r\n    // two checks need to be performed\r\n    // delete token from browser local storage\r\n    if (typeof window !== \"undefined\")\r\n    {\r\n        localStorage.removeItem(\"jwt\");\r\n    }\r\n    \r\n    next(); // callback function that redirects user to a certain page. Done in client side\r\n    \r\n    // set token as valid at the backend. Server Side\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n       return response.json() \r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == \"undefined\")\r\n    {\r\n        return false;\r\n    }\r\n\r\n    if (localStorage.getItem(\"jwt\"))\r\n    {\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport const forgotPassword = email => {\r\n    console.log(\"email: \", email);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ email })\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n \r\nexport const resetPassword = resetInfo => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(resetInfo)\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const socialLogin = user => {\r\n    // POST request using: fetch or axios\r\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\" \r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    // if success\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    // if error\r\n    .catch(err => console.log(err));\r\n}","import React, { Component } from 'react';\r\nimport { list } from './apiPost';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { isAuthenticated } from '../auth';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\nconst options = [\"Recent\", \"Oldest\", \"Popular\"];\r\n\r\nclass Posts extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            posts: [null],\r\n            loading: true,\r\n            loadAll: false,\r\n            option: 0,\r\n            message: \"Recent Events from Following\",\r\n            page: 1\r\n\r\n        }\r\n    }\r\n\r\n    init = () => {\r\n        console.log(this.state.loadAll ,this.state.option, options[this.state.option])\r\n        // list method written in src/user/apiUser.js\r\n        this.setState({loading: true, message: `${options[this.state.option]} Events from ${this.state.loadAll ? 'All Users' : 'Following'}`})\r\n        this.loadPosts(this.state.page);        \r\n    }\r\n\r\n    loadPosts = page => {\r\n        list(this.state.loadAll, this.state.option, isAuthenticated().user._id, page).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({posts: data, loading: false});\r\n            }\r\n        })\r\n    }\r\n\r\n    loadMore = number => {\r\n        this.setState({ page: this.state.page + number, loading: true });\r\n        this.loadPosts(this.state.page + number);\r\n    };\r\n \r\n    loadLess = number => {\r\n        this.setState({ page: this.state.page - number, loading: true });\r\n        this.loadPosts(this.state.page - number);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadPosts(this.state.page);        \r\n    }   \r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-12 mr-1' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n    checkLoadAll = () => event => {\r\n        this.setState({loadAll: event.target.checked})\r\n    }\r\n\r\n    setOption = (value) => {\r\n        this.setState({option: value});\r\n    }\r\n\r\n    renderFilters = () => {\r\n        return (\r\n            <div>\r\n                <h3 className=\"mt-5 mb-2\">Filters</h3>\r\n                \r\n                <div className=\"jumbotron\">\r\n\r\n                    <label className=\"btn btn-primary ml-3\">\r\n                        <input type=\"checkbox\" className=\"form-check-input\" onChange={this.checkLoadAll()} checked={this.state.loadAll}/>\r\n                        All Events\r\n                    </label>\r\n                   \r\n                    <div className=\"dropdown\">\r\n                        <button className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            {options[this.state.option]}\r\n                        </button>\r\n                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                            \r\n                                <button className=\"btn\" style={{width: \"200px\"}} onClick={() => this.setOption(0)}>Recent</button>                                    \r\n                           \r\n                                <button className=\"btn\" style={{width: \"200px\"}} onClick={() => this.setOption(1)}>Oldest</button>                                    \r\n                           \r\n                                <button className=\"btn\" style={{width: \"200px\"}} onClick={() => this.setOption(2)}>Popular</button>                                    \r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={this.init} className=\"btn btn-raised btn-primary mr-5\">Filter</button>\r\n                    \r\n\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    renderPosts = (posts) => {\r\n        return (\r\n            <div className=\"row\">\r\n            {   posts.map((post , i) => {\r\n                    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n                    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n                    return (\r\n                        <div className=\"card col-md-4 bg-light\" key={i}>\r\n                            \r\n                            <div className=\"card-body\">\r\n                                <img \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                                    alt={post.title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}\r\n                                    className=\"img-thumbnail mb-3 \"\r\n                                    style={{height: \"200px\", width:\"100%\"}}    \r\n                                />\r\n\r\n                                \r\n                                <h5 className=\"card-title\">{post.title}</h5>\r\n                                <p className=\"card-text\">{post.body.substring(0, 100)}</p>\r\n                                <br />\r\n                                <p className=\"font-italic mark\">\r\n                                    Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                                    on {new Date(post.created).toDateString()}\r\n                                </p>\r\n                                {this.tagsList(post.tags)}\r\n                                <Link to={`/post/${post._id}`} className=\"btn btn-raised btn-primary btn-sm\">Expand</Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}   \r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        const {posts, loading, page} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                \r\n                {this.renderFilters()}\r\n\r\n                <h2 className=\"mt-5 mb-5\">{this.state.message}</h2>\r\n\r\n                <h2 className=\"mt-5 mb-5\">\r\n                    {!posts.length ? \"No more posts\" : \"\"}\r\n                </h2>\r\n\r\n                \r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPosts(posts))}\r\n\r\n                \r\n\r\n                {page > 1 ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\r\n                        onClick={() => this.loadLess(1)}\r\n                    >\r\n                        Previous ({this.state.page - 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n \r\n                {posts.length ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\r\n                        onClick={() => this.loadMore(1)}\r\n                    >\r\n                        Next ({page + 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  Posts;","import React from 'react';\r\nimport Posts from '../post/Posts';\r\nimport {isAuthenticated} from '../auth';\r\n\r\nconst Home = () => (\r\n    <div>\r\n        <div className=\"jumbotron\">\r\n            <h2>Home Page</h2>\r\n            <p className=\"lead\">Welcome to Evento</p>\r\n        </div>\r\n\r\n        {isAuthenticated() && (\r\n                <div className=\"container\">\r\n                    <Posts />\r\n                </div>\r\n            )\r\n        }\r\n    </div>\r\n    \r\n);\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path)\r\n    {\r\n        return {color: \"#000000\"}\r\n    }\r\n    else \r\n    {\r\n        return {color: \"#ffffff\"}\r\n    }\r\n};\r\n\r\nconst Menu = ({history}) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\">\r\n            <li className=\"nav-item\">\r\n                \r\n                <Link className=\"nav-link\" to=\"/\" style={isActive(history, \"/\")} >\r\n                    <i className=\"fa fa-home fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                </Link>   \r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/users\" style={isActive(history, \"/users\")} >\r\n                    <i className=\"fa fa-users fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />    \r\n                </Link>   \r\n            </li>\r\n\r\n            {!isAuthenticated() && (\r\n                <>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signin\" style={isActive(history, \"/signin\")}  >\r\n                            <i className=\"fa fa-sign-in fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                    </li>\r\n                    \r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" to=\"/signup\" style={isActive(history, \"/signup\")} >\r\n                            <i className=\"fa fa-plus-circle fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                    </li>   \r\n                </>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n                <>\r\n                    \r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/findpeople/${isAuthenticated().user._id}`} style={(isActive(history, `/user/findpeople/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-user-plus fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/post/new/${isAuthenticated().user._id}`} style={(isActive(history, `/user/post/new/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-plus-square fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        \r\n                        <Link className=\"nav-link\" to={`/user/${isAuthenticated().user._id}`} style={(isActive(history, `/user/${isAuthenticated().user._id}` ))}>\r\n                        <i className=\"fa fa-user fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </Link>\r\n                        \r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        <span className=\"nav-link\" style={(isActive(history, \"/signin\"), {cursor: \"pointer\", color: \"#fff\"})} onClick={() => signout(() => history.push(\"/\"))}>\r\n                            <i className=\"fa fa-power-off fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                        </span>\r\n                    </li>\r\n\r\n                </>\r\n            )}\r\n        </ul>\r\n    </div>\r\n);\r\n\r\n\r\n\r\n// withRouter is a higher order component. It accepts componant as an argument\r\nexport default withRouter(Menu);\r\n\r\n\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path)\r\n    {\r\n        return {color: \"#000000\"}\r\n    }\r\n    else \r\n    {\r\n        return {color: \"#ffffff\"}\r\n    }\r\n};\r\n\r\nconst HamburgerMenu = ({history}) => (\r\n\r\n    <nav className=\"navbar navbar-light light-blue lighten-4 bg-primary\">\r\n\r\n        <a className=\"lead text-light ml-2\" href=\"/\">Evento</a>\r\n\r\n        <button className=\"navbar-toggler toggler-example\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent1\"\r\n        aria-controls=\"navbarSupportedContent1\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"><span className=\"dark-blue-text\"><i\r\n            className=\"fa fa-bars fa-1x text-light\"></i></span></button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent1\">\r\n\r\n            <ul className=\"navbar-nav mr-auto\">\r\n               \r\n\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"\" to=\"/\" style={isActive(history, \"/\")}  >\r\n                        <i className=\"fa fa-home fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                            <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                {\"   \"}Home\r\n                            </label>\r\n                        </i> \r\n                    </Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"\" to=\"/users\" style={isActive(history, \"/users\")} >\r\n                        <i className=\"fa fa-users fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                            <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                {\"   \"}Users\r\n                            </label>\r\n                        </i>     \r\n                    </Link>   \r\n                </li>\r\n\r\n                {!isAuthenticated() && (\r\n                    <>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"\" to=\"/signin\" style={isActive(history, \"/signin\")}  >\r\n                                <i className=\"fa fa-sign-in fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign In\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                        </li>\r\n                        \r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"\" to=\"/signup\" style={isActive(history, \"/signup\")} >\r\n                                <i className=\"fa fa-plus-circle fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign Up\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                        </li>   \r\n                    </>\r\n                )}\r\n\r\n                {isAuthenticated() && (\r\n                    <>\r\n                        \r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/findpeople/${isAuthenticated().user._id}`} style={(isActive(history, `/user/findpeople/${isAuthenticated().user._id}` ))}>\r\n                                <i className=\"fa fa-user-plus fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"} Suggested Users\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/post/new/${isAuthenticated().user._id}`} style={(isActive(history, `/user/post/new/${isAuthenticated().user._id}` ))}>\r\n                                <i className=\"fa fa-plus-square fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Create Event\r\n                                    </label>\r\n                                </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            \r\n                            <Link className=\"\" to={`/user/${isAuthenticated().user._id}`} style={(isActive(history, `/user/${isAuthenticated().user._id}` ))}>\r\n                            <i className=\"fa fa-user fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                    {\"   \"}Profile\r\n                                </label>\r\n                            </i> \r\n                            </Link>\r\n                            \r\n                        </li>\r\n\r\n                        <li className=\"nav-item\">\r\n                            <span className=\"\" style={(isActive(history, \"/signin\"), {cursor: \"pointer\", color: \"#fff\"})} onClick={() => signout(() => history.push(\"/\"))}>\r\n                                <i className=\"fa fa-power-off fa-2x text-light\" style={{padding: '10px', borderRadius:\"50%\"}} >\r\n                                    <label className=\"lead text-light ml-2 mb-2\" style={{fontSize: \"0.75em\"}}>\r\n                                        {\"   \"}Sign Out\r\n                                    </label>\r\n                                </i> \r\n                            </span>\r\n                        </li>\r\n\r\n                    </>\r\n                )}\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    </nav>\r\n)\r\n\r\n// withRouter is a higher order component. It accepts componant as an argument\r\nexport default withRouter(HamburgerMenu);\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { signup } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"]\r\n\r\nexport default class Signup extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n            tags: [0,0,0,0,0,0,0,0],\r\n            error: \"\"\r\n        }\r\n    }\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        this.setState({error: \"\"});\r\n        this.setState({open: false});                   // if change is made, remove success message\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({open: false});\r\n        \r\n        console.log(name + event.target.checked);\r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 0.75 : 0;\r\n        this.setState({ tags: arr });\r\n        // console.log(\"Tags: \" + this.state.tags);\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        const {name, email, password, repassword} = this.state;\r\n        let arr = this.state.tags;\r\n        arr.map((value, index) => {\r\n            if (value === 0)\r\n            {\r\n                arr[index] = 0.25;\r\n            }\r\n            return null;\r\n        })\r\n        if (password !== repassword)\r\n        {\r\n            this.setState({error: \"Entered Passwords do not match\"});\r\n            return;\r\n        }\r\n        const user = {                                  // or       const user = {             \r\n            name: name,                                 //              name,\r\n            email: email,                               //              email,\r\n            password: password,                          //              password\r\n            tags: arr\r\n        };                                              //          };\r\n        // console.log(user);\r\n        signup(user)\r\n        // checking for error response\r\n        .then(data => {\r\n            console.log(data);\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error})\r\n            }\r\n            else\r\n            {\r\n                this.setState({\r\n                    error: \"\",\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\",\r\n                    repassword: \"\",\r\n                    tags: [0,0,0,0,0,0,0,0],\r\n                    open: true              // set to true so that success message is displayed\r\n                })\r\n\r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Interested Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    signupForm = (name, email, password, repassword) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={this.handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Re-enter Password</label>\r\n                <input onChange={this.handleChange(\"repassword\")} type=\"password\" className=\"form-control\" value={repassword}/>\r\n            </div>\r\n            \r\n            {this.tagsForm()}\r\n\r\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const {name, email, password, repassword, error, open} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"alert alert-info\" style={{display: open ? \"\" : \"none\"}}>\r\n                    New Account has been created successfully. Please proceed to <Link to=\"/signin\">Sign In.</Link>\r\n                </div>\r\n\r\n                {this.signupForm(name, email, password, repassword)}\r\n            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { socialLogin, authenticate } from \"../auth\";\r\n \r\nclass SocialLogin extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToReferrer: false,\r\n        };\r\n    }\r\n \r\n    responseGoogle = response => {\r\n        console.log(response);\r\n        const { googleId, name, email, imageUrl } = response.profileObj;\r\n        const user = {\r\n            password: googleId,\r\n            name: name,\r\n            email: email,\r\n            imageUrl: imageUrl\r\n        };\r\n        // console.log(\"user obj to social login: \", user);\r\n        socialLogin(user).then(data => {\r\n            console.log(\"signin data: \", data);\r\n            if (data.error) {\r\n                console.log(\"Error Login. Please try again..\");\r\n            } else {\r\n                console.log(\"signin success - setting jwt: \", data);\r\n                //console.log(data);\r\n                if (data.status === 1)\r\n                {\r\n                    this.props.getTags(true, data);\r\n                }\r\n                else if (data.status === 2)\r\n                {\r\n                    authenticate(data, () => {\r\n                        this.setState({ redirectToReferrer: true });\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        // redirect\r\n        const { redirectToReferrer } = this.state;\r\n        if (redirectToReferrer) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n \r\n        return (\r\n            <GoogleLogin\r\n                clientId=\"679380407525-2cvoah9gpsjjffc5k1p6atahhf2vqfl4.apps.googleusercontent.com\"\r\n                buttonText=\"Login with Google\"\r\n                onSuccess={this.responseGoogle}\r\n                onFailure={this.responseGoogle}\r\n            />\r\n        );\r\n    }\r\n}\r\n \r\nexport default SocialLogin;","export const read = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: user\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\n\r\n\r\nexport const remove = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const list = () => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const updateUser = (user, next) => {\r\n    if (typeof window !== 'undefined' ) \r\n    {\r\n        if (localStorage.getItem('jwt'))\r\n        {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user;\r\n            localStorage.setItem('jwt', JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n}\r\n\r\nexport const follow = (userId, token, followId) => {\r\n    //console.log(userId, followId);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ userId, followId })\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unfollow = (userId, token, unfollowId) => {\r\n    //console.log(userId, followId);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ userId, unfollowId })\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const findPeople = (userId, token ) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        // promise will return response whether failure or success\r\n        // but the response needs to be handled here. This is where we handle it\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const updateTags = (userId, token, userTags) => {\r\n    \r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/update/tags`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, userTags})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\n\r\nexport const attend = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/post/attend`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const unattend = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/post/unattend`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}\r\n\r\nexport const getAttend = (userId, token) => {\r\n    console.log(\"getAttend\");\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/attend/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(error => console.log(error))\r\n}","import React, { Component } from 'react';\r\nimport { Link, Redirect} from 'react-router-dom';\r\nimport {signin, authenticate} from '../auth';\r\nimport SocialLogin from './SocialLogin';\r\nimport {updateTags} from '../user/apiUser';\r\n\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\n\r\nexport default class Signin extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            redirectToReferer: false,\r\n            loading: false,\r\n            showTags: false,\r\n            tags: [0,0,0,0,0,0,0,0]\r\n        }\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        this.setState({error: \"\"});\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        this.setState({loading: true});\r\n        const {email, password} = this.state;\r\n        const user = {                                  // or       const user = {             \r\n            email: email,                               //              email,\r\n            password: password                          //              password\r\n        };                                              //          };\r\n        // console.log(user);\r\n        signin(user)\r\n        // checking for error response\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error, loading: false})\r\n            }\r\n            else\r\n            {\r\n                // if successful login, redirect to new page\r\n                // authenticate user \r\n                    authenticate(data, () => {\r\n                        this.setState({redirectToReferer: true})\r\n                    })\r\n                // and then redirect\r\n                \r\n            }\r\n        })\r\n    };\r\n\r\n \r\n    showTags = (flag, data) => {\r\n        this.setState({ showTags: flag, data: data});\r\n    }\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">New User! Choose your interested Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n\r\n            <button onClick={this.submitTags} className=\"btn btn-raised btn-primary\">Submit Tags</button>\r\n            \r\n        </div>\r\n    )\r\n\r\n    submitTags = () => {\r\n        const {data} = this.state;\r\n        const token = data.token;\r\n        const userId = data.user._id;\r\n        let arr = this.state.tags;\r\n        arr.map((value, index) => {\r\n            if (value === 0)\r\n            {\r\n                arr[index] = 0.25;\r\n            }\r\n            return null;\r\n        })\r\n        updateTags(userId, token, arr).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n        authenticate(data, () => {\r\n            this.setState({redirectToReferer: true})\r\n        })\r\n\r\n    }\r\n    \r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({open: false});\r\n        \r\n        console.log(name + event.target.checked);\r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 0.75 : 0;\r\n        this.setState({ tags: arr });\r\n        // console.log(\"Tags: \" + this.state.tags);\r\n    }\r\n\r\n\r\n    signinForm = (email, password) => (\r\n\r\n        <form>\r\n            \r\n            <div className=\"form-group\" style={{width: \"40%\", margin:\"auto\"}}>\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\" style={{width: \"40%\", margin:\"auto\"}}>\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n            \r\n            <br />\r\n            <center>\r\n                <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary d-inline\">Submit</button>\r\n            </center>\r\n\r\n        </form>\r\n    )\r\n\r\n\r\n    render() {\r\n        const {email, password, error, redirectToReferer, loading} = this.state;\r\n        if (redirectToReferer) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Sign In</h2>\r\n\r\n                <hr />\r\n                <br />\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {!this.state.showTags && this.signinForm(email, password)}\r\n            \r\n                {!this.state.showTags && (\r\n                    <>\r\n                        <center>\r\n                        <p>\r\n                            <Link to=\"/forgot-password\" className=\"btn btn-raised btn-danger d-inline\">{\" \"}Forgot Password</Link>\r\n                        </p>\r\n                        </center>\r\n                                \r\n                                        <center>\r\n                            <br />\r\n                            <h4 className=\"text-muted\"> OR </h4>\r\n                            <br />\r\n                            <SocialLogin getTags={this.showTags}/>\r\n                        </center>\r\n                    </>   \r\n                )}\r\n\r\n                \r\n                { this.state.showTags && this.tagsForm()}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/avatar.cea2a1dd.png\";","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { isAuthenticated, signout } from '../auth';\r\nimport { remove } from './apiUser';\r\n\r\nclass DeleteUser extends Component {\r\n\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    deleteAccount = () => {\r\n        console.log(\"Delete Account\")\r\n        const token = isAuthenticated().token;\r\n        const userId = this.props.userId;\r\n        remove(userId,token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                // signout user using signout() writtin in src/auth/index.js\r\n                signout(() => console.log(\"User is deleted\"));\r\n                // redirect - we need state\r\n                this.setState({ redirect: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your account? This will delete all your details from our database.\");\r\n        if (answer)\r\n        {\r\n            this.deleteAccount();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect)\r\n        {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            \r\n                <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">Delete Profile</button>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default DeleteUser;","import React, { Component } from 'react';\r\nimport {follow, unfollow} from './apiUser';\r\n\r\nclass FollowProfileButton extends Component {\r\n\r\n    followClick = () => {\r\n        this.props.onButtonClick(follow);\r\n    };\r\n\r\n    unfollowClick = () => {\r\n        this.props.onButtonClick(unfollow);\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"d-inline-block\">\r\n                    {\r\n                        !this.props.following ?\r\n                        (\r\n                            <button className=\"btn btn-success btn-raised mr-5\" onClick={this.followClick}>\r\n                                Follow\r\n                            </button>\r\n                        )\r\n                        :\r\n                        (   \r\n                            <button className=\"btn btn-warning btn-raised\" onClick={this.unfollowClick}>\r\n                                Unfollow\r\n                            </button>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FollowProfileButton;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass ProfileTabs extends Component {\r\n    render() {\r\n        const {following, followers, posts, name} = this.props;\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Followers ({followers.length})</h3>\r\n                        <hr />\r\n                        {\r\n                            followers.map((person, i) => (\r\n                                <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}> \r\n                                            <img \r\n                                                className=\"float-left mr-2\" \r\n                                                style={{height: \"30px\", width: \"30px\", borderRadius: \"50%\"}}\r\n                                                src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                                alt={person.name} \r\n                                                onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                            />\r\n                                            <div>\r\n                                                <p className=\"lead\">{person.name}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Following ({following.length})</h3>\r\n                        <hr />\r\n                        {\r\n                            following.map((person, i) => (\r\n                                <div key={i}>\r\n                                    \r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}> \r\n                                            <img \r\n                                                className=\"float-left mr-2\" \r\n                                                style={{height: \"30px\", width: \"30px\", borderRadius: \"50%\"}}\r\n                                                src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                                alt={person.name} \r\n                                                onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                            />\r\n                                            <div>\r\n                                                <p className=\"lead\">{person.name}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">{name}'s Events  ({posts.length})</h3>\r\n                            <hr />\r\n                            {\r\n                                posts.map((post, i) => (\r\n                                    <div key={i}>\r\n                                        \r\n                                        <div>\r\n                                            <Link to={`/post/${post._id}`}> \r\n                                                <div>\r\n                                                    <p className=\"lead\">{post.title}</p>\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                ))\r\n                            }\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileTabs;","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport { read } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport DeleteUser from './DeleteUser';\r\nimport FollowProfileButton from './FollowProfileButton';\r\nimport ProfileTabs from './ProfileTabs';\r\nimport { listByUser } from '../post/apiPost'\r\n\r\n// import Users from './Users';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass Profile extends Component {\r\n    constructor()\r\n    {\r\n        super()\r\n        this.state = {\r\n            user: {following: [], followers: []},\r\n            redirectToSignin: false,\r\n            load: false,\r\n            following: true,\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    // check follow\r\n    checkFollow = user => {\r\n        const jwt = isAuthenticated();\r\n        const match = user.followers.find(follower => {\r\n            // one id has many other ids (followers) and vice versa\r\n            return follower._id === jwt.user._id\r\n        })\r\n        return match\r\n    }\r\n\r\n    // sends the method to FollowProfileButton.js\r\n    clickFollowButton = callApi => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n    \r\n        // console.log(userId, this.state.user._id)\r\n        callApi(userId, token, this.state.user._id).then(data => {\r\n            if (data.error) {\r\n                this.setState({ error: data.error });\r\n                // console.log(\"error is here\\n\", data)\r\n            } else {\r\n                this.setState({ user: data, following: !this.state.following });\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    // to get userid from url\r\n\r\n    init = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToSignin: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                let following = this.checkFollow(data)\r\n                this.setState({user: data, load: true, following: following});\r\n                this.loadPosts(data._id);\r\n            }\r\n        });\r\n    }\r\n\r\n    loadPosts = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        listByUser(userId, token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else \r\n            {\r\n                this.setState({ posts: data});\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        const userId = props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-3 mr-2' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Interested Tags:</label>\r\n            <br />\r\n            <div className=\"button-group\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    render() {\r\n        //this.init();\r\n        const {redirectToSignin, user, posts} = this.state;\r\n       \r\n        if (redirectToSignin)\r\n        {\r\n            return <Redirect to=\"/signin\" />\r\n        }\r\n\r\n        const photoUrl = user._id ? `${process.env.REACT_APP_API_URL}/user/photo/${user._id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Profile: {user.name}</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        \r\n                        <img \r\n                            style={{height: \"300px\", width:\"auto\"}} \r\n                            className=\"img-thumbnail\" \r\n                            src={photoUrl} \r\n                            onError={i => (\r\n                                i.target.src = `${DefaultProfile}`\r\n                                )}  \r\n                            alt={user.name}>\r\n                        </img>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-md-8\">\r\n                        \r\n                        <div className=\"lead mt-5\">\r\n                            \r\n                            <p>Email: {user.email}</p>\r\n                            <p>{`Joined on: ${new Date(user.created).toDateString()}`}</p>\r\n                            \r\n                            \r\n                            {(this.state.load) && this.tagsList(user.tags)}\r\n                        </div>\r\n\r\n                            \r\n                        {\r\n                            isAuthenticated().user && isAuthenticated().user._id === user._id ? (\r\n                                \r\n                                <div className=\"d-block\">\r\n                                    {\r\n                                    <Link className=\"btn btn-raised btn-light bg-dark mr-2\" to={`/user/attending/${user._id}`}>\r\n                                        Upcoming Events\r\n                                    </Link>\r\n                                    }\r\n                                    <Link className=\"btn btn-raised btn-primary mr-2\" to={`/user/post/new/${user._id}`}>\r\n                                        Create Event\r\n                                    </Link>\r\n                                    \r\n                                    <Link className=\"btn btn-raised btn-success mr-2\" to={`/user/edit/${user._id}`}>\r\n                                        Edit Profile\r\n                                    </Link>\r\n                                    \r\n                                    <DeleteUser userId={ user._id} />\r\n                                    \r\n                                </div>\r\n\r\n                            ) : (<FollowProfileButton following={this.state.following} onButtonClick={this.clickFollowButton}/>)\r\n                        }\r\n\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col md-12 mt-5 mb-5\">\r\n                        <hr />\r\n                        <p className=\"lead\">{user.about}</p>\r\n                        <hr />\r\n\r\n                        <ProfileTabs followers={user.followers} following={user.following} posts={posts} name={user.name}/>\r\n\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport { list } from './apiUser';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass Users extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            users: [],\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // list method written in src/user/apiUser.js\r\n        list().then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({users: data, loading: false});\r\n            }\r\n        })\r\n    }   \r\n\r\n    renderUsers = (users) => (\r\n        <div className=\"row\">\r\n            {\r\n                users.map((user , i) => (\r\n                    <div className=\"card col-md-3 mr-3 ml-4 mt-3\" key={i}>\r\n                        \r\n                        <img \r\n                            style={{height: \"250px\", width:\"auto\"}} \r\n                            className=\"img-thumbnail\" \r\n                            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                            onError={i => (\r\n                                i.target.src = `${DefaultProfile}`\r\n                                )} \r\n                            alt={user.name}> \r\n                        </img>\r\n\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{user.name}</h5>\r\n                            <p className=\"card-text\">{user.email}</p>\r\n                            <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">View Profile</Link>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            )}   \r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const {users, loading} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">All Users</h2>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n\r\n                {this.renderUsers(users)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  Users;","import React, { Component } from 'react';\r\nimport { isAuthenticated } from '../auth';\r\nimport { read, update, updateUser } from './apiUser';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass EditProfile extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            id: \"\",\r\n            name: \"\",\r\n            email: \"\",\r\n            about: \"\",\r\n            password: \"\",\r\n            repassword: \"\",\r\n            redirectToProfile: false,\r\n            error: \"\",\r\n            fileSize: 0,\r\n            loading: false,\r\n            defaultImage: true,\r\n            imagePath: ''\r\n        }\r\n    }\r\n\r\n    // to get userid from url\r\n\r\n    init = (userId) => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                this.setState({ id: data._id, name: data.name, email: data.email, error: \"\", about: data.about });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.userData = new FormData();                 // API\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.userData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const {name, email, password, repassword, fileSize} = this.state;\r\n        \r\n        if (fileSize > 250000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (name.length === 0)\r\n        {\r\n            this.setState({error: \"Name is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email) )\r\n        {\r\n            this.setState({error: \"Valid Email is required.\"});\r\n            return false;\r\n        }\r\n        if (password.length >= 1 && password.length <= 7)\r\n        {\r\n            this.setState({error: \"Password must be atleast 8 characters in length.\"});\r\n\r\n            return false;\r\n        }\r\n\r\n        if (password !== repassword)\r\n        {\r\n            this.setState({error: \"Entered passwords do not match.\"});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        \r\n\r\n        if (this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const userId = this.props.match.params.userId;\r\n            const token = isAuthenticated().token;\r\n\r\n            update(userId, token, this.userData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    updateUser(data, () => {\r\n                        this.setState({\r\n                            redirectToProfile: true\r\n                        })\r\n                    });\r\n                    \r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n    signupForm = (name, email, about, password, repassword) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Profile Picture</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={this.handleChange(\"name\")} type=\"text\" className=\"form-control\" value={name}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <label type=\"email\" className=\"form-control font-italic\" value={email}>{email}</label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">About</label>\r\n                <textarea onChange={this.handleChange(\"about\")} type=\"text\" className=\"form-control\" value={about}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">New Password</label>\r\n                <br />\r\n                <label className=\"text-muted\" style={{fontSize: \"0.75em\"}}>(Leave empty if you do not wish to update password)</label>\r\n                \r\n                <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control mb-3\" value={password} />\r\n                { password && (\r\n                    <>\r\n                        <label className=\"text-muted\">Re-Enter Password</label>\r\n                        <input onChange={this.handleChange(\"repassword\")} type=\"password\" className=\"form-control\" value={repassword} />\r\n                    </>    \r\n                    )\r\n                }\r\n                \r\n            </div>\r\n            \r\n            \r\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Update</button>\r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const { id, name, email, password, repassword, redirectToProfile, error, loading, about, defaultImage, imagePath } = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${id}`} />\r\n        }\r\n\r\n        const photoUrl = id ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Edit Profile</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={photoUrl}\r\n                                    alt={name}\r\n                                    onError={i => i.target.src = `${DefaultProfile}`}                     \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Existing Event Image</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={name} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                } \r\n\r\n                {isAuthenticated().user.role === \"admin\" ||\r\n                    (isAuthenticated().user._id === id &&\r\n                        this.signupForm(name, email, about, password, repassword))}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  EditProfile;","import React from 'react';\r\nimport { Route, Redirect} from 'react-router-dom';\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    // props means components passed down to this private route component\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n        <Component {...props } />\r\n    ) : (\r\n        <Redirect to={{pathname: \"/signin\", state: {from: props.location}}}/>\r\n    )}/>\r\n)\r\n\r\nexport default PrivateRoute;","import React, { Component } from 'react';\r\nimport { findPeople, follow } from './apiUser';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport { isAuthenticated } from '../auth';\r\n\r\nclass FindPeople extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            users: [],\r\n            open: false,\r\n            error: \"\",\r\n            followMessage: \"\",\r\n            loading: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n        // method written in src/user/apiUser.js\r\n        findPeople(userId, token).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"Data: \", data);\r\n                this.setState({users: data, loading: false});\r\n            }\r\n        })\r\n    }   \r\n\r\n    clickFollow = (user, i) => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        follow(userId, token, user._id)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                this.setState({error: data.error})\r\n            }\r\n            else\r\n            {\r\n                let toFollow = this.state.users;\r\n                toFollow.splice(i, 1);              // to remove the user from the list of users being suggested\r\n                this.setState({\r\n                    users: toFollow,\r\n                    open: true,                     // determine when to show message that the new account has been followed\r\n                    followMessage: `Following ${user.name}`,\r\n                    error: \"\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    renderUsers = (users) => (\r\n        <div className=\"row\">\r\n            {\r\n                users.map((user , i) => (\r\n                    <div className=\"card col-md-3 mr-3 ml-4 mt-3\" key={i}>\r\n\r\n                        <img \r\n                            style={{height: \"250px\", width:\"auto\"}} \r\n                            className=\"img-thumbnail\" \r\n                            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                            onError={i => (\r\n                                i.target.src = `${DefaultProfile}`\r\n                                )} \r\n                            alt={user.name}>\r\n                                \r\n                        </img>\r\n                        \r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{user.name}</h5>\r\n                            <p className=\"card-text\">{user.email}</p>\r\n\r\n                            <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">\r\n                                View Profile\r\n                            </Link>\r\n                            \r\n                            <button onClick={() => this.clickFollow(user, i)} className=\"btn btn-raised btn-info float-right btn-sm\">\r\n                                Follow\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            )}   \r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const {users, open, followMessage, loading} = this.state;\r\n        return (\r\n\r\n\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Suggested Users</h2>\r\n                \r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {   \r\n                    open && <div className=\"alert alert-success\">\r\n                        <p>{followMessage}</p>\r\n                    </div>\r\n                }\r\n                {this.renderUsers(users)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  FindPeople;","import React, { Component } from 'react';\r\nimport { isAuthenticated } from '../auth';\r\nimport { create } from './apiPost';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass NewPost extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            title: \"\",\r\n            body: \"\",\r\n            photo: \"\",\r\n            venue: \"\",\r\n            dateAndTime: \"\",\r\n            error: \"\",\r\n            fileSize: 0,\r\n            loading: false,\r\n            redirectToProfile: false,\r\n            tagCheck: false,\r\n            open: false,\r\n            tags: [0,0,0,0,0,0,0,0],\r\n            defaultImage: true,\r\n            imagePath: \"\",\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.postData = new FormData();                 // API\r\n        this.setState({\r\n            user: isAuthenticated().user \r\n        })\r\n    }\r\n\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n    tagChecked = (name) => event => {\r\n        this.setState({tagCheck: true, open: false});\r\n        \r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 1:0;\r\n        this.setState({ tags: arr });\r\n        this.postData.set(\"tags\", arr);\r\n    }\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if (fileSize > 200000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (title.length === 0 || body.length === 0)\r\n        {\r\n            this.setState({error: \"Title and Body is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        \r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        // console.log(\"post \", this.postData);\r\n     \r\n        if (this.state.tagCheck && this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const userId = isAuthenticated().user._id;\r\n            const token = isAuthenticated().token;\r\n            \r\n            create(userId, token, this.postData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        loading: false,\r\n                        title: \"\",\r\n                        body: \"\",\r\n                        photo: \"\",\r\n                        tags: [0,0,0,0,0,0,0,0],\r\n                        redirectToProfile: true,\r\n                    })\r\n                    \r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            this.setState({open: true})\r\n        }\r\n    };\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    newPostForm = (title, body, venue, dateAndTime) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Image</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title</label>\r\n                <input onChange={this.handleChange(\"title\")} type=\"text\" className=\"form-control\" value={title}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={this.handleChange(\"body\")} type=\"text\" className=\"form-control\" value={body}/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Venue</label>\r\n                <input onChange={this.handleChange(\"venue\")} type=\"text\" className=\"form-control\" value={venue}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Date and Time</label>\r\n                <input onChange={this.handleChange(\"dateAndTime\")} type=\"text\" className=\"form-control\" value={dateAndTime}/>\r\n            </div>\r\n            \r\n            {this.tagsForm()}\r\n\r\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Create Post</button>\r\n\r\n            \r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const { title, body, venue, dateAndTime,user, loading, error, redirectToProfile, open, defaultImage, imagePath } = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${user._id}`} />\r\n        }\r\n\r\n        // const photoUrl = id ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}` : DefaultProfile;\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Create New Event</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: open ? \"\" : \"none\"}}>\r\n                    Please Choose tags related to your Event        \r\n                </div>\r\n\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : \"\" }\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={DefaultPost}                     \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Default Image for an Event</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                }   \r\n\r\n                {this.newPostForm(title, body, venue, dateAndTime)}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  NewPost;","import React, { Component } from 'react';\r\nimport { comment, uncomment} from './apiPost';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass Comment extends Component {\r\n    state = {\r\n        text: \"\",\r\n        error: \"\"\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({text: event.target.value, error: \"\"});\r\n    }\r\n\r\n    isValid = () => {\r\n        const {text} = this.state;\r\n        if ( !(text.length > 0) )\r\n        {\r\n            this.setState({error: \"Comment should not be empty.\"});\r\n            return false;\r\n        }\r\n        else if ( text.length > 150 )\r\n        {\r\n            this.setState({error: \"Comment max length is 150 characters\"});\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    addComment = e => {\r\n        e.preventDefault();\r\n\r\n        if (!isAuthenticated()){\r\n            this.setState({error: \"Please Sign in to leave a comment\"})\r\n            return false;\r\n        }\r\n        \r\n\r\n        if (this.isValid())\r\n        {\r\n            const token = isAuthenticated().token;\r\n            const userId = isAuthenticated().user._id;\r\n            const postId = this.props.postId;\r\n            const newComment = {text: this.state.text};\r\n            comment(userId, token, postId, newComment)\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    console.log(data.error);\r\n                }\r\n                else\r\n                {\r\n                    this.setState({text: ''})\r\n                    // dispatch fresh list of comments to parent component (SinglePost)\r\n                    this.props.updateComments(data.comments);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    deleteComment = (comment) => {\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        const postId = this.props.postId;\r\n        uncomment(userId, token, postId, comment)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                // dispatch fresh list of comments to parent component (SinglePost)\r\n                this.props.updateComments(data.comments);\r\n            }\r\n        });\r\n    }\r\n\r\n    deleteConfirmed = (comment) => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your comment?\");\r\n        if (answer)\r\n        {\r\n            this.deleteComment(comment);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const {comments} = this.props;\r\n        comments.reverse();\r\n        const {error} = this.state;\r\n\r\n        return (\r\n            <div className=\"jumbotron\"> \r\n                \r\n                  \r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <h3 className=\"text-primary\">{\" \"}{comments.length} Comments <i className=\"fa fa-comment mb-2\" /></h3>\r\n                    <hr />\r\n                    <form onSubmit={this.addComment}>\r\n                        <div className=\"form-group mt-4\">\r\n                            <input type=\"text\" onChange={this.handleChange} className=\"form-control\" value={this.state.text} placeholder=\"Leave a Comment...\"/>\r\n                            <button className=\"btn btn-raised btn-success mt-2\">Post</button>\r\n                        </div>\r\n                    </form>\r\n\r\n                    {\r\n                        comments.map((comment, i) => {\r\n                            const posterProfile = comment.postedBy ? `/user/${comment.postedBy._id}` : \"\";\r\n                            const posterName = comment.postedBy ? comment.postedBy.name : \" Unknown\";\r\n                            const posterId = comment.postedBy ? `${comment.postedBy._id}` : \"\";\r\n                            \r\n                            return(\r\n                            <div key={i}>\r\n                                <div>\r\n                                    <Link to={`/user/${posterProfile}`}> \r\n                                        <img \r\n                                            className=\"float-left mr-2\" \r\n                                            style={{height: \"30px\", width: \"auto\", borderRadius: \"50%\"}}\r\n                                            src={`${process.env.REACT_APP_API_URL}/user/photo/${posterId}`} \r\n                                            alt={posterName} \r\n                                            onError={i => (i.target.src = `${DefaultProfile}`)}  \r\n                                        />\r\n                                    </Link>\r\n                                    \r\n                                    <div>\r\n                                        <p className=\"lead\">{comment.text}</p>\r\n                                        <p className=\"font-italic mark bg-light\">\r\n                                            Posted By: <Link to={`/user/${posterProfile}`}>{posterName}{\" \"}</Link>\r\n                                            on {new Date(comment.created).toDateString()}\r\n                                            {console.log(isAuthenticated().user._id, \" \", posterId)};\r\n                                            <span>\r\n                                                {\r\n                                                    isAuthenticated().user && isAuthenticated().user._id === posterId && \r\n                                                    <>\r\n                                                        <span onClick={ () => this.deleteConfirmed(comment)} className=\"text-danger float-right mr-1\" style={{cursor:'pointer'}}>Remove</span>\r\n                                                    </>\r\n                                                }\r\n                                            </span>\r\n                                        </p>\r\n                                        <hr />\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            )\r\n                            \r\n                        })\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport { singlePost, remove, like, unlike, notInterested, undoNotInterested } from './apiPost';\r\nimport { read, updateTags, attend, unattend } from '../user/apiUser';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { isAuthenticated } from '../auth';\r\nimport Comment from './Comment';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass SinglePost extends Component {\r\n    state = {\r\n        post: '',\r\n        tags: [],\r\n        redirectToHome: false,\r\n        redirectToSignin: false,\r\n        like: false,\r\n        likes: 0,\r\n        notInterested: false,\r\n        userTags: [],\r\n        comments: []\r\n    }\r\n\r\n    checkLike = (likes) => {\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n        let match = (likes.indexOf(userId) !== -1);// indexOf returns -1 if not found\r\n        return match;\r\n    }\r\n\r\n    init = () => {\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {\r\n                // console.log(data);\r\n                this.setState({userTags: data.tags});\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.init();\r\n        const postId = this.props.match.params.postId;\r\n        singlePost(postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState(\r\n                    {\r\n                        post: data, \r\n                        tags: data.tags,\r\n                        likes: data.likes.length,\r\n                        like: this.checkLike(data.likes),\r\n                        notInterested: this.checkLike(data.notInterested),\r\n                        comments: data.comments \r\n                    }\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    //  userTags[index] = (userTags[index] > 1) ? 1: userTags[index];\r\n    //  userTags[index] = (userTags[index] < 0) ? 0: userTags[index];\r\n\r\n    \r\n    updateTags = (flag) => {\r\n        const {tags, userTags} = this.state;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        tags.map( (value, index) => {\r\n            var change = 0.05 * tags[index];\r\n            if (flag)\r\n            {\r\n                userTags[index] += change;\r\n            }\r\n            else\r\n            {\r\n                userTags[index] -= change;\r\n            }\r\n            return true;\r\n        })\r\n        updateTags(userId, token, userTags).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n    }\r\n\r\n    updateComments = comments => {\r\n        this.setState({comments})\r\n    }\r\n\r\n\r\n    likeToggle = () => {\r\n        if (!isAuthenticated()) {\r\n            this.setState({ redirectToSignin: true });\r\n            return false;\r\n        }\r\n        console.log(\"like toggled\");\r\n        let callApi = this.state.like ? unlike : like;\r\n        let callApi2 = this.state.like ? unattend : attend;\r\n        const postId = this.state.post._id;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        callApi(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"like done\");\r\n                this.setState({\r\n                    like: !this.state.like,\r\n                    likes: data.likes.length,\r\n                    //notInterested: !this.state.notInterested\r\n                })\r\n                if (this.state.like && this.state.notInterested)\r\n                {\r\n                    this.notInterestedToggle();\r\n                }\r\n                this.updateTags(this.state.like);\r\n            }\r\n        })\r\n        callApi2(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                ;\r\n            }\r\n        })\r\n    }\r\n\r\n    notInterestedToggle = () => {\r\n        if (!isAuthenticated()) {\r\n            this.setState({ redirectToSignin: true });\r\n            return false;\r\n        }\r\n        console.log(\"notInterested toggled\");\r\n        let callApi = this.state.notInterested ? undoNotInterested : notInterested;\r\n        const postId = this.state.post._id;\r\n        const token = isAuthenticated().token;\r\n        const userId = isAuthenticated().user._id;\r\n        callApi(userId, token, postId).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                console.log(\"not interested done\");\r\n                this.setState({\r\n                    notInterested: !this.state.notInterested,\r\n                    //like: !this.state.like\r\n                })\r\n                if (this.state.notInterested && this.state.like)\r\n                {\r\n                    this.likeToggle();\r\n                }\r\n                this.updateTags(!this.state.notInterested);\r\n            }\r\n        })\r\n        \r\n    }\r\n\r\n    generateTags = (tags) => (\r\n        \r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-2 mr-2' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags:</label>\r\n            <br />\r\n            <div className=\"button-group\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    deletePost = () => {\r\n        const postId = this.props.match.params.postId;\r\n        const token = isAuthenticated().token;\r\n        remove(postId, token)\r\n        .then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({redirectToHome: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you wish to delete your event? This will delete all details regarding your event from our database.\");\r\n        if (answer)\r\n        {\r\n            this.deletePost();\r\n        }\r\n    }\r\n\r\n\r\n    renderPost = (post) => {\r\n\r\n        const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n        const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n        \r\n        const { like, likes, notInterested} = this.state;\r\n\r\n        return (\r\n\r\n            \r\n                <div className=\"card-body\">\r\n                    <img \r\n                        src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                        alt={post.title}\r\n                        onError={i => i.target.src = `${DefaultPost}`}\r\n                        className=\"img-thumbnail mb-3\"\r\n                        style={{height: \"400px\", width:\"100%\", objectFit: \"cover\"}}    \r\n                    />\r\n\r\n                    {(isAuthenticated().user._id !== post.postedBy._id) && (like ? \r\n                        (\r\n                            <h4 className=\"d-inline mr-1\">\r\n                                <i onClick={this.likeToggle} className=\"fa fa-thumbs-up text-success bg-dark\" style={{padding: '10px', borderRadius:\"50%\"}} />\r\n                            </h4>\r\n                        ) \r\n                        : \r\n                        (\r\n                            <h4 className=\"d-inline mr-1\">\r\n                                <i  onClick={this.likeToggle} className=\"fa fa-thumbs-up text-light bg-dark\" style={{padding: '10px', borderRadius:\"50%\"}} />  \r\n                            </h4>\r\n                        )\r\n                    )}\r\n\r\n                    {(isAuthenticated().user._id !== post.postedBy._id) && (!notInterested ?\r\n                        (\r\n                            <h4 className=\"d-inline\">\r\n                                <i onClick={this.notInterestedToggle} className=\"fa fa-thumbs-down text-light bg-dark mr-3\" style={{padding: '10px', borderRadius:\"50%\"}}/>\r\n\r\n                            </h4>\r\n                        ) \r\n                        : \r\n                        (\r\n                            <h4 className=\"d-inline\">\r\n                                <i onClick={this.notInterestedToggle} className=\"fa fa-thumbs-down text-warning bg-dark m3-3\" style={{padding: '10px', borderRadius:\"50%\"}}/>\r\n\r\n                            </h4>\r\n                        )\r\n                    )}\r\n\r\n                    <h4 className=\"d-inline\">\r\n                       {\" \"}{likes} Attending\r\n\r\n                    </h4>\r\n\r\n                    {/*(isAuthenticated().user._id !== post.postedBy._id) && (!notInterested ?\r\n                        (\r\n                            <button onClick={this.notInterestedToggle} className=\"btn btn-raised btn-warning btn-sm btn-rounded mb-3 ml-5 d-inline\">Not Interested</button>\r\n                        )\r\n                        :\r\n                        (\r\n                            <button onClick={this.notInterestedToggle} className=\"btn btn-raised btn-light btn-sm btn-rounded mb-3 ml-5 d-inline\" style={{color: \"black\"}}>Undo Not Interested</button>\r\n                        )\r\n                    )*/\r\n                    }\r\n\r\n                    \r\n                    <p className=\"card-text mt-3\">{post.body}</p>\r\n                    <p className=\"card-text\"><strong>Venue:</strong> {post.venue}</p>\r\n                    <p className=\"card-text\"><strong>Date and Time:</strong> {post.dateAndTime}</p>\r\n                    <br />\r\n\r\n\r\n                    <p className=\"font-italic mark\">\r\n                        Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                        on {new Date(post.created).toDateString()}\r\n                    </p>\r\n\r\n                    {this.tagsList(this.state.tags)}\r\n\r\n                    <div className=\"d-inline-block\">\r\n                        <Link to={`/`} className=\"btn btn-raised btn-primary btn-sm mr-5\">Back to Events</Link>\r\n\r\n                        {\r\n                            isAuthenticated().user && isAuthenticated().user._id === post.postedBy._id && \r\n                            <>\r\n                                <Link to={`/post/edit/${post._id}`} className=\"btn btn-raised btn-warning btn-sm mr-5\">Update Event</Link>\r\n                                <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger btn-sm\">Delete Event</button>\r\n                            </>\r\n                        }\r\n                        \r\n                    </div>\r\n\r\n                </div>\r\n            \r\n            \r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {post, redirectToHome, redirectToSignin, comments } = this.state;\r\n\r\n        if (redirectToHome)\r\n        {\r\n            return <Redirect to={`/`} />\r\n        }\r\n        else if (redirectToSignin) \r\n        {\r\n            return <Redirect to={`/signin`} />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\r\n\r\n                { !post ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPost(post))}\r\n\r\n                <Comment postId={post._id} comments={comments.reverse()} updateComments={this.updateComments}/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SinglePost;","import React, { Component } from 'react'\r\nimport { singlePost, update } from './apiPost';\r\nimport { isAuthenticated } from '../auth';\r\nimport DefaultPost from '../images/event.jpg';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass EditPost extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            id: '',\r\n            title: '',\r\n            body: '',\r\n            venue: '',\r\n            dateAndTime: '',\r\n            redirectToProfile: false,\r\n            error: '',\r\n            fileSize: 0,\r\n            loading: false,\r\n            defaultImage: true,\r\n            imagePath: \"\",\r\n            tags: [],\r\n        }\r\n    }\r\n\r\n    init = (postId) => {\r\n        singlePost(postId)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToProfile: true});\r\n            }\r\n            else \r\n            {               \r\n                this.setState({ \r\n                    id: data.postedBy._id, \r\n                    title: data.title, \r\n                    body: data.body, \r\n                    tags: data.tags,\r\n                    venue: data.venue,\r\n                    dateAndTime: data.dateAndTime,\r\n                    error: \"\",\r\n                });\r\n                console.log(this.state.tags)\r\n            }\r\n        });\r\n    }\r\n \r\n\r\n    componentDidMount() {\r\n        //console.log(\"User ID from route params: \", this.props.match.params.userId);\r\n        this.postData = new FormData();                 // API\r\n        const postId = this.props.match.params.postId;\r\n        this.init(postId);\r\n    }\r\n\r\n    // higher order function: function that returns another function. This function takes the 'event'\r\n    handleChange = (name) => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        if (value === undefined)\r\n        {\r\n            this.setState({ defaultImage: true});\r\n            return;\r\n        }\r\n        else if (name === \"photo\")\r\n        {\r\n            this.setState({ defaultImage: false, imagePath: URL.createObjectURL(event.target.files[0])});\r\n            \r\n        }\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize, error: \"\" });\r\n    };\r\n\r\n\r\n    //check if input fields are valid\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if (fileSize > 200000)      // 100KB\r\n        {\r\n            this.setState({error: \"File size should be less 200KB\"});\r\n            return false;\r\n        }\r\n        \r\n        if (title.length === 0 || body.length === 0)\r\n        {\r\n            this.setState({error: \"Title and Body is required.\"});\r\n            return false;\r\n        }\r\n\r\n        // email@domain.com\r\n        // eslint-disable-next-line\r\n        \r\n        return true;\r\n    }\r\n\r\n    clickSubmit = event => {\r\n        // browser reloads page by defualt on submit. therefore, we need to prevent default behavior\r\n        event.preventDefault();\r\n        \r\n        console.log(this.state.tags);\r\n        if (this.isValid())\r\n        {\r\n            this.setState({loading: true});\r\n            const postId = this.state.id;\r\n            const token = isAuthenticated().token;\r\n\r\n            update(postId, token, this.postData)\r\n            // checking for error response\r\n            .then(data => {\r\n                if (data.error)\r\n                {\r\n                    this.setState({error: data.error})\r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        loading: false,\r\n                        title: \"\",\r\n                        body: \"\",\r\n                        photo: \"\",\r\n                        redirectToProfile: true\r\n                    })\r\n                    \r\n                }\r\n            })\r\n        }\r\n    };\r\n    \r\n    tagChecked = (name) => event => {\r\n        this.setState({tagCheck: true, open: false});\r\n        \r\n        let flag = event.target.checked;\r\n        let index = tagNames.indexOf(name);\r\n        //console.log(index);\r\n        let arr = this.state.tags;\r\n        arr[index] = flag ? 1:0;\r\n        this.setState({ tags: arr });\r\n        this.postData.set(\"tags\", arr);\r\n    }\r\n\r\n    createCheckbox = label => (\r\n        <label className=\"btn btn-primary\" key={tagNames.indexOf(label)}>\r\n            <input type=\"checkbox\" className=\"form-check-input\" onChange={this.tagChecked(label)} checked={!!(this.state.tags[tagNames.indexOf(label)])} />\r\n                {label}\r\n        </label>\r\n    )\r\n\r\n    createCheckboxes = () => (\r\n        tagNames.map(this.createCheckbox)\r\n    )\r\n    \r\n    tagsForm = () => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                \r\n                {this.createCheckboxes()}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    editPostForm = (id, title, body, venue, dateAndTime) => (\r\n\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Image</label>\r\n                <input onChange={this.handleChange(\"photo\")} type=\"file\" className=\"form-control\" accept=\"image/*\"/>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title</label>\r\n                <input onChange={this.handleChange(\"title\")} type=\"text\" className=\"form-control\" value={title}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Body</label>\r\n                <textarea onChange={this.handleChange(\"body\")} type=\"text\" className=\"form-control\" value={body}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Venue</label>\r\n                <input onChange={this.handleChange(\"venue\")} type=\"text\" className=\"form-control\" value={venue}/>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Date and Time</label>\r\n                <input onChange={this.handleChange(\"dateAndTime\")} type=\"text\" className=\"form-control\" value={dateAndTime}/>\r\n            </div>\r\n            \r\n\r\n            {this.tagsForm()}\r\n            <div className=\"d-inline-block\">\r\n                <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary mr-5\">Update Event</button>\r\n                <Link to={`/post/${id}`} className=\"btn btn-raised btn-danger\">Cancel</Link>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n\r\n    render() {\r\n        const {id, title, body, venue, dateAndTime, error, defaultImage, imagePath, redirectToProfile, loading} = this.state;\r\n\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/post/${id}`} />\r\n        }\r\n        \r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 md-5\">Edit Event</h2>\r\n\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                    {error}        \r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                ): (\r\n                    \"\"  \r\n                )}\r\n\r\n                {\r\n                    defaultImage ? \r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${id}`}\r\n                                    alt={title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}                     \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Existing Event Image</figcaption>\r\n                            </figure>\r\n                        )\r\n                        :\r\n                        (\r\n                            <figure className=\"figure\">\r\n                                <img style={{height: \"200px\", width:\"auto\"}} \r\n                                    className=\"figure-img img-fluid rounded\" \r\n                                    src={imagePath}                \r\n                                    alt={title} \r\n                                />\r\n                                <figcaption className=\"figure-caption\">Image to be uploaded</figcaption>\r\n                            </figure>  \r\n                        )\r\n                }   \r\n\r\n                {isAuthenticated().user.role === \"admin\" ||\r\n                    (isAuthenticated().user._id === id &&\r\n                        this.editPostForm(id, title, body, venue, dateAndTime))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPost;","import React, { Component } from 'react'\r\nimport { isAuthenticated } from '../auth';\r\nimport { getAttend, read } from '../user/apiUser';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/event.jpg';\r\n\r\nconst tagNames = [\"Environmental\", \"Social\", \"Educational\", \"Sport\",  \"Recreational\",  \"Music\", \"Political\", \"Festive\"];\r\n\r\nclass AttendPost extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToProfile: false,\r\n            posts: [],\r\n            loading: true,\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // list method written in src/user/apiUser.js\r\n        const userId = this.props.match.params.userId;\r\n        if ( userId !== isAuthenticated().user._id)\r\n        {\r\n            this.setState({redirectToProfile: true})\r\n        }\r\n        const token = isAuthenticated().token;\r\n        getAttend(userId, token).then(data => {\r\n            if (data.error)\r\n            {\r\n                console.log(data.error);\r\n            }\r\n            else\r\n            {\r\n                this.setState({posts: data, loading: false});\r\n            }\r\n        })\r\n        read(userId, token)\r\n        .then(data => {\r\n            if (data.error) \r\n            {\r\n                this.setState({redirectToSignin: true});\r\n            }\r\n            else \r\n            {\r\n                this.setState({user: data})\r\n            }\r\n        });\r\n    }   \r\n\r\n    generateTags = (tags) => (\r\n        tags.map((value, index) => \r\n            {\r\n                if (value >= 0.5)\r\n                {\r\n                    return (  \r\n                        <label className='btn btn-raised btn-info col-md-12 mr-1' key={index}> {tagNames[index]} </label>\r\n                    )\r\n                }\r\n                return true;\r\n            }\r\n        )\r\n    )\r\n\r\n    tagsList = (tags) => (\r\n        <div className=\"form-group\">\r\n            <label className=\"text-muted\">Event Tags</label>\r\n            <br />\r\n            <div className=\"button-group ml-5 mr-5\" >\r\n                {this.generateTags(tags)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    \r\n    renderPosts = (posts) => {\r\n        return (\r\n            <div className=\"row\">\r\n            {   posts.map((post , i) => {\r\n                    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n                    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n                    return (\r\n                        <div className=\"card col-md-4\" key={i}>\r\n                            \r\n                            <div className=\"card-body\">\r\n                                <img \r\n                                    src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}?${new Date().getTime()}`}\r\n                                    alt={post.title}\r\n                                    onError={i => i.target.src = `${DefaultPost}`}\r\n                                    className=\"img-thumbnail mb-3\"\r\n                                    style={{height: \"200px\", width:\"100%\"}}    \r\n                                />\r\n\r\n                                \r\n                                <h5 className=\"card-title\">{post.title}</h5>\r\n                                <p className=\"card-text\">{post.body.substring(0, 100)}</p>\r\n                                <br />\r\n                                <p className=\"font-italic mark\">\r\n                                    Posted By: <Link to={`${posterId}`}>{posterName}{\" \"}</Link>\r\n                                    on {new Date(post.created).toDateString()}\r\n                                </p>\r\n                                {this.tagsList(post.tags)}\r\n                                <Link to={`/post/${post._id}`} className=\"btn btn-raised btn-primary btn-sm\">Expand</Link>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            )}   \r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {posts, loading, user, redirectToProfile} = this.state;\r\n        if (redirectToProfile)\r\n        {\r\n            return <Redirect to={`/user/${user.name}`} />\r\n        }\r\n        return (\r\n            \r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\"> {user.name}'s Upcoming Events:</h2>\r\n\r\n                { loading ? <div className=\"jumbotron text-center\"><h2>Loading...</h2> </div> : ( this.renderPosts(posts))}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AttendPost;","import React, { Component } from \"react\";\r\nimport { forgotPassword } from \"../auth\";\r\nimport { Link } from 'react-router-dom';\r\n \r\nclass ForgotPassword extends Component {\r\n    state = {\r\n        email: \"\",\r\n        message: \"\",\r\n        error: \"\"\r\n    };\r\n \r\n    forgotPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n        forgotPassword(this.state.email).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Password Reset</h2>\r\n \r\n                {this.state.message && (\r\n                    <div className=\"alert alert-success\">\r\n                        {this.state.message}        \r\n                    </div>\r\n                )}\r\n                {this.state.error && (\r\n                    <div className=\"alert alert-danger\">\r\n                        {this.state.error}       \r\n                    </div>\r\n                )}\r\n \r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Enter your Email Address\"\r\n                            value={this.state.email}\r\n                            name=\"email\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    email: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    \r\n                    <p>\r\n                        <button onClick={this.forgotPassword} className=\"btn btn-raised btn-primary mr-3 mt-3\">Send Password Reset Link</button>\r\n                        <Link to=\"/signin\" className=\"btn btn-raised btn-success mt-3\">{\" \"}Back To Signin</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ForgotPassword;","import React, { Component } from \"react\";\r\nimport { resetPassword } from \"../auth\";\r\nimport { Link } from 'react-router-dom';\r\n \r\nclass ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newPassword: \"\",\r\n            rePassword: \"\",\r\n            message: \"\",\r\n            error: \"\"\r\n        };\r\n    }\r\n \r\n\r\n    resetPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n\r\n        const newPassword = this.state.newPassword;\r\n        const rePassword = this.state.rePassword;\r\n\r\n        if (rePassword !== newPassword)\r\n        {\r\n            this.setState({error: \"Entered Passwords do not match\"});\r\n            return false;\r\n        }\r\n\r\n        resetPassword({\r\n            newPassword: this.state.newPassword,\r\n            resetPasswordLink: this.props.match.params.resetPasswordToken\r\n        }).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message, newPassword: \"\" });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Reset Your Password</h2>\r\n \r\n                {this.state.message && (\r\n                    <div className=\"alert alert-success\">\r\n                        {this.state.message}        \r\n                    </div>\r\n                )}\r\n                {this.state.error && (\r\n                    <div className=\"alert alert-danger\">\r\n                        {this.state.error}       \r\n                    </div>\r\n                )}\r\n \r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input type=\"password\" className=\"form-control mb-5\" placeholder=\"Your new password\" value={this.state.newPassword} name=\"newPassword\"\r\n                            onChange={e => this.setState({newPassword: e.target.value, message: \"\", error: \"\"})} autoFocus\r\n                        />\r\n\r\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Re-Enter new password\" value={this.state.rePassword} name=\"rePassword\"\r\n                            onChange={e => this.setState({rePassword: e.target.value, message: \"\", error: \"\"})} \r\n                        />\r\n                    </div>\r\n\r\n\r\n                    <p>\r\n                        <button onClick={this.resetPassword} className=\"btn btn-raised btn-primary mt-3 mr-3\">Reset Password</button>\r\n                        <Link to=\"/signin\" className=\"btn btn-raised btn-success mt-3\">{\" \"}Back To Signin</Link>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ResetPassword;","import React, { Component } from 'react'\r\n\r\nclass UnknownProfile extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron\">\r\n                <center>\r\n                   <h2 className=\"lead\">Account No Longer Exists...</h2>\r\n                </center>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UnknownProfile;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport Home from './core/Home';\r\nimport Menu from './core/Menu';\r\nimport MenuMobile from './core/MenuMobile';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Profile from './user/Profile';\r\nimport Users from './user/Users';\r\nimport EditProfile from './user/EditProfile';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport FindPeople from './user/FindPeople';\r\nimport NewPost from './post/NewPost';\r\nimport SinglePost from './post/SinglePost';\r\nimport EditPost from './post/EditPost';\r\nimport AttendPost from './post/AttendPost';\r\nimport ForgotPassword from \"./user/ForgotPassword\";\r\nimport ResetPassword from \"./user/ResetPassword\";\r\nimport UnknownProfile from \"./user/UnknownProfile\";\r\n\r\nconst MainRouter = () => {\r\n\r\n    const isDesktopOrLaptop = useMediaQuery({\r\n        query: '(min-device-width: 700px)'\r\n    })\r\n\r\n    return ( \r\n        <div>\r\n            { isDesktopOrLaptop && <Menu />}\r\n            { !isDesktopOrLaptop && <MenuMobile />}\r\n\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Home}></Route>\r\n                    <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n                    <Route exact path=\"/reset-password/:resetPasswordToken\" component={ResetPassword} />\r\n                    <Route exact path=\"/users\" component={Users}></Route>\r\n                    <Route exact path=\"/signup\" component={Signup}></Route>\r\n                    <Route exact path=\"/signin\" component={Signin}></Route>\r\n                    <PrivateRoute exact path=\"/user\" component={UnknownProfile} />\r\n                    <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\r\n                    <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n                    <PrivateRoute exact path=\"/user/findpeople/:userId\" component={FindPeople} />\r\n                    <PrivateRoute exact path=\"/user/post/new/:userId\" component={NewPost} />\r\n                    <PrivateRoute exact path=\"/post/:postId\" component={SinglePost} />\r\n                    <PrivateRoute exact path=\"/post/edit/:postId\" component={EditPost} />\r\n                    <PrivateRoute exact path=\"/user/Attending/:userId\" component={AttendPost} />\r\n                </Switch>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MainRouter;","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport MainRouter from './MainRouter';\n\nconst App = () => (\n\t<BrowserRouter>\n\t\t<MainRouter />\n\t</BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}